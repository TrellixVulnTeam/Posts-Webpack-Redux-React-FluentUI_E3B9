{"version":3,"file":"fabric.async.53e32d2f28f6d4f647c0.js","mappings":"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","sources":["webpack:///../node_modules/@fluentui/react-hooks/lib/useTarget.js","webpack:///../node_modules/@fluentui/react/lib/utilities/positioning/positioning.types.js","webpack:///../node_modules/@fluentui/react/lib/utilities/positioning/positioning.js","webpack:///../node_modules/@fluentui/utilities/lib/Rectangle.js","webpack:///../node_modules/@fluentui/react/lib/components/Callout/CalloutContent.base.js","webpack:///../node_modules/@fluentui/react/lib/components/Callout/CalloutContent.styles.js","webpack:///../node_modules/@fluentui/react/lib/components/Callout/CalloutContent.js","webpack:///../node_modules/@fluentui/react/lib/components/Callout/Callout.js","webpack:///../node_modules/@fluentui/react/lib/components/ContextualMenu/ContextualMenu.types.js","webpack:///../node_modules/@fluentui/utilities/lib/osDetector.js","webpack:///../node_modules/@fluentui/utilities/lib/mobileDetector.js","webpack:///../node_modules/@fluentui/react/lib/utilities/contextualMenu/contextualMenuUtility.js","webpack:///../node_modules/@fluentui/react/lib/components/Callout/Callout.js?d6fb","webpack:///../node_modules/@fluentui/react/lib/components/ContextualMenu/ContextualMenuItem.base.js","webpack:///../node_modules/@fluentui/react/lib/components/Divider/VerticalDivider.classNames.js","webpack:///../node_modules/@fluentui/react/lib/components/ContextualMenu/ContextualMenu.cnstyles.js","webpack:///../node_modules/@fluentui/react/lib/components/ContextualMenu/ContextualMenu.classNames.js","webpack:///../node_modules/@fluentui/react/lib/components/ContextualMenu/ContextualMenuItem.js","webpack:///../node_modules/@fluentui/react/lib/components/ContextualMenu/ContextualMenuItemWrapper/ContextualMenuItemWrapper.js","webpack:///../node_modules/@fluentui/react/lib/components/ContextualMenu/ContextualMenuItemWrapper/ContextualMenuAnchor.js","webpack:///../node_modules/@fluentui/react/lib/components/ContextualMenu/ContextualMenuItemWrapper/ContextualMenuButton.js","webpack:///../node_modules/@fluentui/react/lib/components/Divider/VerticalDivider.base.js","webpack:///../node_modules/@fluentui/react/lib/components/Divider/VerticalDivider.js","webpack:///../node_modules/@fluentui/react/lib/components/Divider/VerticalDivider.styles.js","webpack:///../node_modules/@fluentui/react/lib/components/ContextualMenu/ContextualMenuItemWrapper/ContextualMenuSplitButton.js","webpack:///../node_modules/@fluentui/react/lib/utilities/MenuContext/MenuContext.js","webpack:///../node_modules/@fluentui/react/lib/components/ContextualMenu/ContextualMenu.base.js","webpack:///../node_modules/@fluentui/react/lib/components/ContextualMenu/ContextualMenu.styles.js","webpack:///../node_modules/@fluentui/react/lib/components/ContextualMenu/ContextualMenu.js"],"sourcesContent":["import { getDocument } from '@fluentui/utilities';\nimport * as React from 'react';\nimport { useWindow } from '@fluentui/react-window-provider';\n/**\n * Hook to calculate and cache the target element specified by the given target attribute,\n * as well as the target element's (or host element's) parent window\n * @param target- Target selector passed to the component as a property, describing the element that\n * the callout should target\n * @param hostElement- The callout's host element, used for determining the parent window.\n */\nexport function useTarget(target, hostElement) {\n    var previousTargetProp = React.useRef();\n    var targetRef = React.useRef(null);\n    /**\n     * Stores an instance of Window, used to check\n     * for server side rendering and if focus was lost.\n     */\n    var targetWindow = useWindow();\n    // If the target element changed, find the new one. If we are tracking\n    // target with class name, always find element because we do not know if\n    // fabric has rendered a new element and disposed the old element.\n    if (!target || target !== previousTargetProp.current || typeof target === 'string') {\n        var currentElement = hostElement === null || hostElement === void 0 ? void 0 : hostElement.current;\n        if (target) {\n            if (typeof target === 'string') {\n                var currentDoc = getDocument(currentElement);\n                targetRef.current = currentDoc ? currentDoc.querySelector(target) : null;\n            }\n            else if ('stopPropagation' in target) {\n                targetRef.current = target;\n            }\n            else if ('getBoundingClientRect' in target) {\n                targetRef.current = target;\n            }\n            else if ('current' in target) {\n                targetRef.current = target.current;\n            }\n            else {\n                targetRef.current = target;\n            }\n        }\n        previousTargetProp.current = target;\n    }\n    return [targetRef, targetWindow];\n}\n//# sourceMappingURL=useTarget.js.map","export var RectangleEdge;\n(function (RectangleEdge) {\n    RectangleEdge[RectangleEdge[\"top\"] = 1] = \"top\";\n    RectangleEdge[RectangleEdge[\"bottom\"] = -1] = \"bottom\";\n    RectangleEdge[RectangleEdge[\"left\"] = 2] = \"left\";\n    RectangleEdge[RectangleEdge[\"right\"] = -2] = \"right\";\n})(RectangleEdge || (RectangleEdge = {}));\nexport var Position;\n(function (Position) {\n    Position[Position[\"top\"] = 0] = \"top\";\n    Position[Position[\"bottom\"] = 1] = \"bottom\";\n    Position[Position[\"start\"] = 2] = \"start\";\n    Position[Position[\"end\"] = 3] = \"end\";\n})(Position || (Position = {}));\n//# sourceMappingURL=positioning.types.js.map","var _a;\nimport { __assign } from \"tslib\";\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { getScrollbarWidth, getRTL } from '../../Utilities';\nimport { RectangleEdge, } from './positioning.types';\nimport { Rectangle } from '../../Utilities';\nfunction _createPositionData(targetEdge, alignmentEdge, isAuto) {\n    return {\n        targetEdge: targetEdge,\n        alignmentEdge: alignmentEdge,\n        isAuto: isAuto,\n    };\n}\n// Currently the beakPercent is set to 50 for all positions meaning that it should tend to the center of the target\nvar DirectionalDictionary = (_a = {},\n    _a[DirectionalHint.topLeftEdge] = _createPositionData(RectangleEdge.top, RectangleEdge.left),\n    _a[DirectionalHint.topCenter] = _createPositionData(RectangleEdge.top),\n    _a[DirectionalHint.topRightEdge] = _createPositionData(RectangleEdge.top, RectangleEdge.right),\n    _a[DirectionalHint.topAutoEdge] = _createPositionData(RectangleEdge.top, undefined, true),\n    _a[DirectionalHint.bottomLeftEdge] = _createPositionData(RectangleEdge.bottom, RectangleEdge.left),\n    _a[DirectionalHint.bottomCenter] = _createPositionData(RectangleEdge.bottom),\n    _a[DirectionalHint.bottomRightEdge] = _createPositionData(RectangleEdge.bottom, RectangleEdge.right),\n    _a[DirectionalHint.bottomAutoEdge] = _createPositionData(RectangleEdge.bottom, undefined, true),\n    _a[DirectionalHint.leftTopEdge] = _createPositionData(RectangleEdge.left, RectangleEdge.top),\n    _a[DirectionalHint.leftCenter] = _createPositionData(RectangleEdge.left),\n    _a[DirectionalHint.leftBottomEdge] = _createPositionData(RectangleEdge.left, RectangleEdge.bottom),\n    _a[DirectionalHint.rightTopEdge] = _createPositionData(RectangleEdge.right, RectangleEdge.top),\n    _a[DirectionalHint.rightCenter] = _createPositionData(RectangleEdge.right),\n    _a[DirectionalHint.rightBottomEdge] = _createPositionData(RectangleEdge.right, RectangleEdge.bottom),\n    _a);\nfunction _isRectangleWithinBounds(rect, boundingRect) {\n    if (rect.top < boundingRect.top) {\n        return false;\n    }\n    if (rect.bottom > boundingRect.bottom) {\n        return false;\n    }\n    if (rect.left < boundingRect.left) {\n        return false;\n    }\n    if (rect.right > boundingRect.right) {\n        return false;\n    }\n    return true;\n}\n/**\n * Gets all of the edges of a rectangle that are outside of the given bounds.\n * If there are no out of bounds edges it returns an empty array.\n */\nfunction _getOutOfBoundsEdges(rect, boundingRect) {\n    var outOfBounds = [];\n    if (rect.top < boundingRect.top) {\n        outOfBounds.push(RectangleEdge.top);\n    }\n    if (rect.bottom > boundingRect.bottom) {\n        outOfBounds.push(RectangleEdge.bottom);\n    }\n    if (rect.left < boundingRect.left) {\n        outOfBounds.push(RectangleEdge.left);\n    }\n    if (rect.right > boundingRect.right) {\n        outOfBounds.push(RectangleEdge.right);\n    }\n    return outOfBounds;\n}\nfunction _getEdgeValue(rect, edge) {\n    return rect[RectangleEdge[edge]];\n}\nfunction _setEdgeValue(rect, edge, value) {\n    rect[RectangleEdge[edge]] = value;\n    return rect;\n}\n/**\n * Returns the middle value of an edge. Only returns 1 value rather than xy coordinates as\n * the itself already contains the other coordinate.\n * For instance, a bottom edge's current value is it's y coordinate, so the number returned is the x.\n */\nfunction _getCenterValue(rect, edge) {\n    var edges = _getFlankingEdges(edge);\n    return (_getEdgeValue(rect, edges.positiveEdge) + _getEdgeValue(rect, edges.negativeEdge)) / 2;\n}\n/**\n * Flips the value depending on the edge.\n * If the edge is a \"positive\" edge, Top or Left, then the value should stay as it is.\n * If the edge is a \"negative\" edge, Bottom or Right, then the value should be flipped.\n * This is to account for the fact that the coordinates are effectively reserved in certain cases for the\n * \"negative\" edges.\n *\n * For example, when testing to see if a bottom edge 1 is within the bounds of another bottom edge 2:\n * If edge 1 is greater than edge 2 then it is out of bounds. This is reversed for top edge 1 and top edge 2.\n * If top edge 1 is less than edge 2 then it is out of bounds.\n */\nfunction _getRelativeEdgeValue(edge, value) {\n    if (edge > 0) {\n        return value;\n    }\n    else {\n        return value * -1;\n    }\n}\nfunction _getRelativeRectEdgeValue(edge, rect) {\n    return _getRelativeEdgeValue(edge, _getEdgeValue(rect, edge));\n}\nfunction _getRelativeEdgeDifference(rect, hostRect, edge) {\n    var edgeDifference = _getEdgeValue(rect, edge) - _getEdgeValue(hostRect, edge);\n    return _getRelativeEdgeValue(edge, edgeDifference);\n}\n/**\n * Moves the edge of a rectangle to the value given. It only moves the edge in a linear direction based on that edge.\n * For example, if it's a bottom edge it will only change y coordinates.\n */\nfunction _moveEdge(rect, edge, newValue) {\n    var difference = _getEdgeValue(rect, edge) - newValue;\n    rect = _setEdgeValue(rect, edge, newValue);\n    rect = _setEdgeValue(rect, edge * -1, _getEdgeValue(rect, edge * -1) - difference);\n    return rect;\n}\n/**\n * Aligns the edge on the passed in rect to the target. If there is a gap then it will have that space between the two.\n */\nfunction _alignEdges(rect, target, edge, gap) {\n    if (gap === void 0) { gap = 0; }\n    return _moveEdge(rect, edge, _getEdgeValue(target, edge) + _getRelativeEdgeValue(edge, gap));\n}\n/**\n * Aligns the targetEdge on the passed in target to the rects corresponding opposite edge.\n * For instance if targetEdge is bottom, then the rects top will be moved to match it.\n */\nfunction _alignOppositeEdges(rect, target, targetEdge, gap) {\n    if (gap === void 0) { gap = 0; }\n    var oppositeEdge = targetEdge * -1;\n    var adjustedGap = _getRelativeEdgeValue(oppositeEdge, gap);\n    return _moveEdge(rect, targetEdge * -1, _getEdgeValue(target, targetEdge) + adjustedGap);\n}\n/**\n * Tests to see if the given edge is within the bounds of the given rectangle.\n */\nfunction _isEdgeInBounds(rect, bounds, edge) {\n    var adjustedRectValue = _getRelativeRectEdgeValue(edge, rect);\n    return adjustedRectValue > _getRelativeRectEdgeValue(edge, bounds);\n}\n/**\n * Attempts to move the rectangle through various sides of the target to find a place to fit.\n * If no fit is found, the original position should be returned.\n */\nfunction _flipToFit(rect, target, bounding, positionData, gap) {\n    if (gap === void 0) { gap = 0; }\n    var directions = [\n        RectangleEdge.left,\n        RectangleEdge.right,\n        RectangleEdge.bottom,\n        RectangleEdge.top,\n    ];\n    // In RTL page, RectangleEdge.right has a higher priority than RectangleEdge.left, so the order should be updated.\n    if (getRTL()) {\n        directions[0] *= -1;\n        directions[1] *= -1;\n    }\n    var currentEstimate = rect;\n    var currentEdge = positionData.targetEdge;\n    var currentAlignment = positionData.alignmentEdge;\n    // Keep switching sides until one is found with enough space.\n    // If all sides don't fit then return the unmodified element.\n    for (var i = 0; i < 4; i++) {\n        if (!_isEdgeInBounds(currentEstimate, bounding, currentEdge)) {\n            directions.splice(directions.indexOf(currentEdge), 1);\n            if (directions.length > 0) {\n                if (directions.indexOf(currentEdge * -1) > -1) {\n                    currentEdge = currentEdge * -1;\n                }\n                else {\n                    currentAlignment = currentEdge;\n                    currentEdge = directions.slice(-1)[0];\n                }\n                currentEstimate = _estimatePosition(rect, target, { targetEdge: currentEdge, alignmentEdge: currentAlignment }, gap);\n            }\n        }\n        else {\n            return {\n                elementRectangle: currentEstimate,\n                targetEdge: currentEdge,\n                alignmentEdge: currentAlignment,\n            };\n        }\n    }\n    return {\n        elementRectangle: rect,\n        targetEdge: positionData.targetEdge,\n        alignmentEdge: positionData.alignmentEdge,\n    };\n}\n/**\n * Flips only the alignment edge of an element rectangle. This is used instead of nudging the alignment edges\n * into position, when `alignTargetEdge` is specified.\n */\nfunction _flipAlignmentEdge(elementEstimate, target, gap, coverTarget) {\n    var alignmentEdge = elementEstimate.alignmentEdge, targetEdge = elementEstimate.targetEdge, elementRectangle = elementEstimate.elementRectangle;\n    var oppositeEdge = alignmentEdge * -1;\n    var newEstimate = _estimatePosition(elementRectangle, target, { targetEdge: targetEdge, alignmentEdge: oppositeEdge }, gap, coverTarget);\n    return {\n        elementRectangle: newEstimate,\n        targetEdge: targetEdge,\n        alignmentEdge: oppositeEdge,\n    };\n}\n/**\n * Adjusts a element rectangle to fit within the bounds given. If directionalHintFixed or covertarget is passed in\n * then the element will not flip sides on the target. They will, however, be nudged to fit within the bounds given.\n */\nfunction _adjustFitWithinBounds(element, target, bounding, positionData, gap, directionalHintFixed, coverTarget) {\n    if (gap === void 0) { gap = 0; }\n    var alignmentEdge = positionData.alignmentEdge, alignTargetEdge = positionData.alignTargetEdge;\n    var elementEstimate = {\n        elementRectangle: element,\n        targetEdge: positionData.targetEdge,\n        alignmentEdge: alignmentEdge,\n    };\n    if (!directionalHintFixed && !coverTarget) {\n        elementEstimate = _flipToFit(element, target, bounding, positionData, gap);\n    }\n    var outOfBounds = _getOutOfBoundsEdges(element, bounding);\n    if (alignTargetEdge) {\n        // The edge opposite to the alignment edge might be out of bounds.\n        // Flip alignment to see if we can get it within bounds.\n        if (elementEstimate.alignmentEdge && outOfBounds.indexOf(elementEstimate.alignmentEdge * -1) > -1) {\n            var flippedElementEstimate = _flipAlignmentEdge(elementEstimate, target, gap, coverTarget);\n            if (_isRectangleWithinBounds(flippedElementEstimate.elementRectangle, bounding)) {\n                return flippedElementEstimate;\n            }\n            else {\n                // If the flipped elements edges are still out of bounds, try nudging it.\n                elementEstimate = _alignOutOfBoundsEdges(_getOutOfBoundsEdges(flippedElementEstimate.elementRectangle, bounding), elementEstimate, bounding);\n            }\n        }\n    }\n    else {\n        elementEstimate = _alignOutOfBoundsEdges(outOfBounds, elementEstimate, bounding);\n    }\n    return elementEstimate;\n}\n/**\n * Iterates through a list of out of bounds edges and tries to nudge and align them.\n * @param outOfBoundsEdges - Array of edges that are out of bounds\n * @param elementEstimate - The current element positioning estimate\n * @param bounding - The current bounds\n */\nfunction _alignOutOfBoundsEdges(outOfBoundsEdges, elementEstimate, bounding) {\n    for (var _i = 0, outOfBoundsEdges_1 = outOfBoundsEdges; _i < outOfBoundsEdges_1.length; _i++) {\n        var direction = outOfBoundsEdges_1[_i];\n        elementEstimate.elementRectangle = _alignEdges(elementEstimate.elementRectangle, bounding, direction);\n    }\n    return elementEstimate;\n}\n/**\n * Moves the middle point on an edge to the point given.\n * Only moves in one direction. For instance if a bottom edge is passed in, then\n * the bottom edge will be moved in the x axis to match the point.\n */\nfunction _centerEdgeToPoint(rect, edge, point) {\n    var positiveEdge = _getFlankingEdges(edge).positiveEdge;\n    var elementMiddle = _getCenterValue(rect, edge);\n    var distanceToMiddle = elementMiddle - _getEdgeValue(rect, positiveEdge);\n    return _moveEdge(rect, positiveEdge, point - distanceToMiddle);\n}\n/**\n * Moves the element rectangle to be appropriately positioned relative to a given target.\n * Does not flip or adjust the element.\n */\nfunction _estimatePosition(elementToPosition, target, positionData, gap, coverTarget) {\n    if (gap === void 0) { gap = 0; }\n    var estimatedElementPosition;\n    var alignmentEdge = positionData.alignmentEdge, targetEdge = positionData.targetEdge;\n    var elementEdge = coverTarget ? targetEdge : targetEdge * -1;\n    estimatedElementPosition = coverTarget\n        ? _alignEdges(elementToPosition, target, targetEdge, gap)\n        : _alignOppositeEdges(elementToPosition, target, targetEdge, gap);\n    // if no alignment edge is provided it's supposed to be centered.\n    if (!alignmentEdge) {\n        var targetMiddlePoint = _getCenterValue(target, targetEdge);\n        estimatedElementPosition = _centerEdgeToPoint(estimatedElementPosition, elementEdge, targetMiddlePoint);\n    }\n    else {\n        estimatedElementPosition = _alignEdges(estimatedElementPosition, target, alignmentEdge);\n    }\n    return estimatedElementPosition;\n}\n/**\n * Returns the non-opposite edges of the target edge.\n * For instance if bottom is passed in then left and right will be returned.\n */\nfunction _getFlankingEdges(edge) {\n    if (edge === RectangleEdge.top || edge === RectangleEdge.bottom) {\n        return {\n            positiveEdge: RectangleEdge.left,\n            negativeEdge: RectangleEdge.right,\n        };\n    }\n    else {\n        return {\n            positiveEdge: RectangleEdge.top,\n            negativeEdge: RectangleEdge.bottom,\n        };\n    }\n}\n/**\n * Retrieve the final value for the return edge of `elementRectangle`. If the `elementRectangle` is closer to one side\n * of the bounds versus the other, the return edge is flipped to grow inward.\n */\nfunction _finalizeReturnEdge(elementRectangle, returnEdge, bounds) {\n    if (bounds &&\n        Math.abs(_getRelativeEdgeDifference(elementRectangle, bounds, returnEdge)) >\n            Math.abs(_getRelativeEdgeDifference(elementRectangle, bounds, returnEdge * -1))) {\n        return returnEdge * -1;\n    }\n    return returnEdge;\n}\n/**\n * Finalizes the element position based on the hostElement. Only returns the\n * rectangle values to position such that they are anchored to the target.\n * This helps prevent resizing from looking very strange.\n * For instance, if the target edge is top and aligned with the left side then\n * the bottom and left values are returned so as the Callout shrinks it shrinks towards that corner.\n */\nfunction _finalizeElementPosition(elementRectangle, hostElement, targetEdge, bounds, alignmentEdge, coverTarget, doNotFinalizeReturnEdge) {\n    var returnValue = {};\n    var hostRect = _getRectangleFromElement(hostElement);\n    var elementEdge = coverTarget ? targetEdge : targetEdge * -1;\n    var elementEdgeString = RectangleEdge[elementEdge];\n    var returnEdge = alignmentEdge ? alignmentEdge : _getFlankingEdges(targetEdge).positiveEdge;\n    if (!doNotFinalizeReturnEdge) {\n        returnEdge = _finalizeReturnEdge(elementRectangle, returnEdge, bounds);\n    }\n    returnValue[elementEdgeString] = _getRelativeEdgeDifference(elementRectangle, hostRect, elementEdge);\n    returnValue[RectangleEdge[returnEdge]] = _getRelativeEdgeDifference(elementRectangle, hostRect, returnEdge);\n    return returnValue;\n}\n// Since the beak is rotated 45 degrees the actual height/width is the length of the diagonal.\n// We still want to position the beak based on it's midpoint which does not change. It will\n// be at (beakwidth / 2, beakwidth / 2)\nfunction _calculateActualBeakWidthInPixels(beakWidth) {\n    return Math.sqrt(beakWidth * beakWidth * 2);\n}\n/**\n * Returns the appropriate IPositionData based on the props altered for RTL.\n * If directionalHintForRTL is passed in that is used if the page is RTL.\n * If directionalHint is specified, no directionalHintForRTL is available, and the page is RTL, the hint will be\n * flipped (e.g. bottomLeftEdge would become bottomRightEdge).\n *\n * If there is no directionalHint passed in, bottomAutoEdge is chosen automatically.\n */\nfunction _getPositionData(directionalHint, directionalHintForRTL, previousPositions) {\n    if (directionalHint === void 0) { directionalHint = DirectionalHint.bottomAutoEdge; }\n    if (previousPositions) {\n        return {\n            alignmentEdge: previousPositions.alignmentEdge,\n            isAuto: previousPositions.isAuto,\n            targetEdge: previousPositions.targetEdge,\n        };\n    }\n    var positionInformation = __assign({}, DirectionalDictionary[directionalHint]);\n    if (getRTL()) {\n        // If alignment edge exists and that alignment edge is -2 or 2, right or left, then flip it.\n        if (positionInformation.alignmentEdge && positionInformation.alignmentEdge % 2 === 0) {\n            positionInformation.alignmentEdge = positionInformation.alignmentEdge * -1;\n        }\n        return directionalHintForRTL !== undefined ? DirectionalDictionary[directionalHintForRTL] : positionInformation;\n    }\n    return positionInformation;\n}\n/**\n * Gets the alignment data for the given information. This only really matters if the positioning is Auto.\n * If it is auto then the alignmentEdge should be chosen based on the target edge's position relative to\n * the center of the page.\n */\nfunction _getAlignmentData(positionData, target, boundingRect, coverTarget, alignTargetEdge) {\n    if (positionData.isAuto) {\n        positionData.alignmentEdge = getClosestEdge(positionData.targetEdge, target, boundingRect);\n    }\n    positionData.alignTargetEdge = alignTargetEdge;\n    return positionData;\n}\nfunction getClosestEdge(targetEdge, target, boundingRect) {\n    var targetCenter = _getCenterValue(target, targetEdge);\n    var boundingCenter = _getCenterValue(boundingRect, targetEdge);\n    var _a = _getFlankingEdges(targetEdge), positiveEdge = _a.positiveEdge, negativeEdge = _a.negativeEdge;\n    if (targetCenter <= boundingCenter) {\n        return positiveEdge;\n    }\n    else {\n        return negativeEdge;\n    }\n}\nfunction _positionElementWithinBounds(elementToPosition, target, bounding, positionData, gap, directionalHintFixed, coverTarget) {\n    var estimatedElementPosition = _estimatePosition(elementToPosition, target, positionData, gap, coverTarget);\n    if (_isRectangleWithinBounds(estimatedElementPosition, bounding)) {\n        return {\n            elementRectangle: estimatedElementPosition,\n            targetEdge: positionData.targetEdge,\n            alignmentEdge: positionData.alignmentEdge,\n        };\n    }\n    else {\n        return _adjustFitWithinBounds(elementToPosition, target, bounding, positionData, gap, directionalHintFixed, coverTarget);\n    }\n}\nfunction _finalizeBeakPosition(elementPosition, positionedBeak, bounds) {\n    var targetEdge = elementPosition.targetEdge * -1;\n    // The \"host\" element that we will use to help position the beak.\n    var actualElement = new Rectangle(0, elementPosition.elementRectangle.width, 0, elementPosition.elementRectangle.height);\n    var returnValue = {};\n    var returnEdge = _finalizeReturnEdge(elementPosition.elementRectangle, elementPosition.alignmentEdge ? elementPosition.alignmentEdge : _getFlankingEdges(targetEdge).positiveEdge, bounds);\n    returnValue[RectangleEdge[targetEdge]] = _getEdgeValue(positionedBeak, targetEdge);\n    returnValue[RectangleEdge[returnEdge]] = _getRelativeEdgeDifference(positionedBeak, actualElement, returnEdge);\n    return {\n        elementPosition: __assign({}, returnValue),\n        closestEdge: getClosestEdge(elementPosition.targetEdge, positionedBeak, actualElement),\n        targetEdge: targetEdge,\n    };\n}\nfunction _positionBeak(beakWidth, elementPosition) {\n    var target = elementPosition.targetRectangle;\n    /**\n     * Note about beak positioning: The actual beak width only matters for getting the gap between the callout and\n     * target, it does not impact the beak placement within the callout. For example example, if the beakWidth is 8,\n     * then the actual beakWidth is sqrroot(8^2 + 8^2) = 11.31x11.31. So the callout will need to be an extra 3 pixels\n     * away from its target. While the beak is being positioned in the callout it still acts as though it were 8x8.\n     */\n    var _a = _getFlankingEdges(elementPosition.targetEdge), positiveEdge = _a.positiveEdge, negativeEdge = _a.negativeEdge;\n    var beakTargetPoint = _getCenterValue(target, elementPosition.targetEdge);\n    var elementBounds = new Rectangle(beakWidth / 2, elementPosition.elementRectangle.width - beakWidth / 2, beakWidth / 2, elementPosition.elementRectangle.height - beakWidth / 2);\n    var beakPosition = new Rectangle(0, beakWidth, 0, beakWidth);\n    beakPosition = _moveEdge(beakPosition, elementPosition.targetEdge * -1, -beakWidth / 2);\n    beakPosition = _centerEdgeToPoint(beakPosition, elementPosition.targetEdge * -1, beakTargetPoint - _getRelativeRectEdgeValue(positiveEdge, elementPosition.elementRectangle));\n    if (!_isEdgeInBounds(beakPosition, elementBounds, positiveEdge)) {\n        beakPosition = _alignEdges(beakPosition, elementBounds, positiveEdge);\n    }\n    else if (!_isEdgeInBounds(beakPosition, elementBounds, negativeEdge)) {\n        beakPosition = _alignEdges(beakPosition, elementBounds, negativeEdge);\n    }\n    return beakPosition;\n}\nfunction _getRectangleFromElement(element) {\n    var clientRect = element.getBoundingClientRect();\n    return new Rectangle(clientRect.left, clientRect.right, clientRect.top, clientRect.bottom);\n}\nfunction _getRectangleFromIRect(rect) {\n    return new Rectangle(rect.left, rect.right, rect.top, rect.bottom);\n}\nfunction _getTargetRect(bounds, target) {\n    var targetRectangle;\n    if (target) {\n        // eslint-disable-next-line no-extra-boolean-cast\n        if (!!target.preventDefault) {\n            var ev = target;\n            targetRectangle = new Rectangle(ev.clientX, ev.clientX, ev.clientY, ev.clientY);\n            // eslint-disable-next-line no-extra-boolean-cast\n        }\n        else if (!!target.getBoundingClientRect) {\n            targetRectangle = _getRectangleFromElement(target);\n            // HTMLImgElements can have x and y values. The check for it being a point must go last.\n        }\n        else {\n            var rectOrPoint = target;\n            // eslint-disable-next-line deprecation/deprecation\n            var left = rectOrPoint.left || rectOrPoint.x;\n            // eslint-disable-next-line deprecation/deprecation\n            var top_1 = rectOrPoint.top || rectOrPoint.y;\n            var right = rectOrPoint.right || left;\n            var bottom = rectOrPoint.bottom || top_1;\n            targetRectangle = new Rectangle(left, right, top_1, bottom);\n        }\n        if (!_isRectangleWithinBounds(targetRectangle, bounds)) {\n            var outOfBounds = _getOutOfBoundsEdges(targetRectangle, bounds);\n            for (var _i = 0, outOfBounds_1 = outOfBounds; _i < outOfBounds_1.length; _i++) {\n                var direction = outOfBounds_1[_i];\n                targetRectangle[RectangleEdge[direction]] = bounds[RectangleEdge[direction]];\n            }\n        }\n    }\n    else {\n        targetRectangle = new Rectangle(0, 0, 0, 0);\n    }\n    return targetRectangle;\n}\n/**\n * If max height is less than zero it returns the bounds height instead.\n */\nfunction _getMaxHeightFromTargetRectangle(targetRectangle, targetEdge, gapSpace, bounds, coverTarget) {\n    var maxHeight = 0;\n    var directionalHint = DirectionalDictionary[targetEdge];\n    // If cover target is set, then the max height should be calculated using the opposite of the target edge since\n    // that's the direction that the callout will expand in.\n    // For instance, if the directionalhint is bottomLeftEdge then the callout will position so it's bottom edge\n    // is aligned with the bottom of the target and expand up towards the top of the screen and the calculated max height\n    // is (bottom of target) - (top of screen) - gapSpace.\n    var target = coverTarget ? directionalHint.targetEdge * -1 : directionalHint.targetEdge;\n    if (target === RectangleEdge.top) {\n        maxHeight = _getEdgeValue(targetRectangle, directionalHint.targetEdge) - bounds.top - gapSpace;\n    }\n    else if (target === RectangleEdge.bottom) {\n        maxHeight = bounds.bottom - _getEdgeValue(targetRectangle, directionalHint.targetEdge) - gapSpace;\n    }\n    else {\n        maxHeight = bounds.bottom - targetRectangle.top - gapSpace;\n    }\n    return maxHeight > 0 ? maxHeight : bounds.height;\n}\nfunction _positionElementRelative(props, elementToPosition, boundingRect, previousPositions) {\n    var gap = props.gapSpace ? props.gapSpace : 0;\n    var targetRect = _getTargetRect(boundingRect, props.target);\n    var positionData = _getAlignmentData(_getPositionData(props.directionalHint, props.directionalHintForRTL, previousPositions), targetRect, boundingRect, props.coverTarget, props.alignTargetEdge);\n    var positionedElement = _positionElementWithinBounds(_getRectangleFromElement(elementToPosition), targetRect, boundingRect, positionData, gap, props.directionalHintFixed, props.coverTarget);\n    return __assign(__assign({}, positionedElement), { targetRectangle: targetRect });\n}\nfunction _finalizePositionData(positionedElement, hostElement, bounds, coverTarget, doNotFinalizeReturnEdge) {\n    var finalizedElement = _finalizeElementPosition(positionedElement.elementRectangle, hostElement, positionedElement.targetEdge, bounds, positionedElement.alignmentEdge, coverTarget, doNotFinalizeReturnEdge);\n    return {\n        elementPosition: finalizedElement,\n        targetEdge: positionedElement.targetEdge,\n        alignmentEdge: positionedElement.alignmentEdge,\n    };\n}\nfunction _positionElement(props, hostElement, elementToPosition, previousPositions) {\n    var boundingRect = props.bounds\n        ? _getRectangleFromIRect(props.bounds)\n        : new Rectangle(0, window.innerWidth - getScrollbarWidth(), 0, window.innerHeight);\n    var positionedElement = _positionElementRelative(props, elementToPosition, boundingRect, previousPositions);\n    return _finalizePositionData(positionedElement, hostElement, boundingRect, props.coverTarget);\n}\nfunction _positionCallout(props, hostElement, callout, previousPositions, doNotFinalizeReturnEdge) {\n    var beakWidth = props.isBeakVisible ? props.beakWidth || 0 : 0;\n    var gap = _calculateActualBeakWidthInPixels(beakWidth) / 2 + (props.gapSpace ? props.gapSpace : 0);\n    var positionProps = props;\n    positionProps.gapSpace = gap;\n    var boundingRect = props.bounds\n        ? _getRectangleFromIRect(props.bounds)\n        : new Rectangle(0, window.innerWidth - getScrollbarWidth(), 0, window.innerHeight);\n    var positionedElement = _positionElementRelative(positionProps, callout, boundingRect, previousPositions);\n    var beakPositioned = _positionBeak(beakWidth, positionedElement);\n    var finalizedBeakPosition = _finalizeBeakPosition(positionedElement, beakPositioned, boundingRect);\n    return __assign(__assign({}, _finalizePositionData(positionedElement, hostElement, boundingRect, props.coverTarget, doNotFinalizeReturnEdge)), { beakPosition: finalizedBeakPosition });\n}\nfunction _positionCard(props, hostElement, callout, previousPositions) {\n    return _positionCallout(props, hostElement, callout, previousPositions, true);\n}\n// END PRIVATE FUNCTIONS\nexport var __positioningTestPackage = {\n    _finalizePositionData: _finalizePositionData,\n    _finalizeBeakPosition: _finalizeBeakPosition,\n    _calculateActualBeakWidthInPixels: _calculateActualBeakWidthInPixels,\n    _positionElementWithinBounds: _positionElementWithinBounds,\n    _positionBeak: _positionBeak,\n    _getPositionData: _getPositionData,\n    _getMaxHeightFromTargetRectangle: _getMaxHeightFromTargetRectangle,\n};\n/**\n * Used to position an element relative to the given positioning props.\n * If positioning has been completed before, previousPositions can be passed to ensure that the positioning element\n * repositions based on its previous targets rather than starting with directionalhint.\n */\nexport function positionElement(props, hostElement, elementToPosition, previousPositions) {\n    return _positionElement(props, hostElement, elementToPosition, previousPositions);\n}\nexport function positionCallout(props, hostElement, elementToPosition, previousPositions) {\n    return _positionCallout(props, hostElement, elementToPosition, previousPositions);\n}\nexport function positionCard(props, hostElement, elementToPosition, previousPositions) {\n    return _positionCard(props, hostElement, elementToPosition, previousPositions);\n}\n/**\n * Gets the maximum height that a rectangle can have in order to fit below or above a target.\n * If the directional hint specifies a left or right edge (i.e. leftCenter) it will limit the height to the topBorder\n * of the target given.\n * If no bounds are provided then the window is treated as the bounds.\n */\nexport function getMaxHeight(target, targetEdge, gapSpace, bounds, coverTarget) {\n    if (gapSpace === void 0) { gapSpace = 0; }\n    var mouseTarget = target;\n    var elementTarget = target;\n    var rectOrPointTarget = target;\n    var targetRect;\n    var boundingRectangle = bounds\n        ? _getRectangleFromIRect(bounds)\n        : new Rectangle(0, window.innerWidth - getScrollbarWidth(), 0, window.innerHeight);\n    // eslint-disable-next-line deprecation/deprecation\n    var left = rectOrPointTarget.left || rectOrPointTarget.x;\n    // eslint-disable-next-line deprecation/deprecation\n    var top = rectOrPointTarget.top || rectOrPointTarget.y;\n    var right = rectOrPointTarget.right || left;\n    var bottom = rectOrPointTarget.bottom || top;\n    // eslint-disable-next-line no-extra-boolean-cast -- may not actually be a MouseEvent\n    if (!!mouseTarget.stopPropagation) {\n        targetRect = new Rectangle(mouseTarget.clientX, mouseTarget.clientX, mouseTarget.clientY, mouseTarget.clientY);\n    }\n    else if (left !== undefined && top !== undefined) {\n        targetRect = new Rectangle(left, right, top, bottom);\n    }\n    else {\n        targetRect = _getRectangleFromElement(elementTarget);\n    }\n    return _getMaxHeightFromTargetRectangle(targetRect, targetEdge, gapSpace, boundingRectangle, coverTarget);\n}\n/**\n * Returns the opposite edge of the given RectangleEdge.\n */\nexport function getOppositeEdge(edge) {\n    return edge * -1;\n}\nfunction _getBoundsFromTargetWindow(target, targetWindow) {\n    var segments = undefined;\n    if (targetWindow.getWindowSegments) {\n        segments = targetWindow.getWindowSegments();\n    }\n    // Identify if we're dealing with single screen scenarios.\n    if (segments === undefined || segments.length <= 1) {\n        return {\n            top: 0,\n            left: 0,\n            right: targetWindow.innerWidth,\n            bottom: targetWindow.innerHeight,\n            width: targetWindow.innerWidth,\n            height: targetWindow.innerHeight,\n        };\n    }\n    // Logic for determining dual screen scenarios.\n    var x = 0;\n    var y = 0;\n    // If the target is an Element get coordinates for its center.\n    if (target !== null && !!target.getBoundingClientRect) {\n        var clientRect = target.getBoundingClientRect();\n        x = (clientRect.left + clientRect.right) / 2;\n        y = (clientRect.top + clientRect.bottom) / 2;\n    }\n    // If the target is not null get x-axis and y-axis coordinates directly.\n    else if (target !== null) {\n        // eslint-disable-next-line deprecation/deprecation\n        x = target.left || target.x;\n        // eslint-disable-next-line deprecation/deprecation\n        y = target.top || target.y;\n    }\n    var bounds = { top: 0, left: 0, right: 0, bottom: 0, width: 0, height: 0 };\n    // Define which window segment are the coordinates in and calculate bounds based on that.\n    for (var _i = 0, segments_1 = segments; _i < segments_1.length; _i++) {\n        var segment = segments_1[_i];\n        if (x && segment.left <= x && segment.right >= x && y && segment.top <= y && segment.bottom >= y) {\n            bounds = {\n                top: segment.top,\n                left: segment.left,\n                right: segment.right,\n                bottom: segment.bottom,\n                width: segment.width,\n                height: segment.height,\n            };\n        }\n    }\n    return bounds;\n}\nexport function getBoundsFromTargetWindow(target, targetWindow) {\n    return _getBoundsFromTargetWindow(target, targetWindow);\n}\n//# sourceMappingURL=positioning.js.map","/**\n * Rectangle helper class.\n *\n * @public\n * {@docCategory Rectangle}\n */\nvar Rectangle = /** @class */ (function () {\n    function Rectangle(left, right, top, bottom) {\n        if (left === void 0) { left = 0; }\n        if (right === void 0) { right = 0; }\n        if (top === void 0) { top = 0; }\n        if (bottom === void 0) { bottom = 0; }\n        this.top = top;\n        this.bottom = bottom;\n        this.left = left;\n        this.right = right;\n    }\n    Object.defineProperty(Rectangle.prototype, \"width\", {\n        /**\n         * Calculated automatically by subtracting the right from left\n         */\n        get: function () {\n            return this.right - this.left;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Rectangle.prototype, \"height\", {\n        /**\n         * Calculated automatically by subtracting the bottom from top.\n         */\n        get: function () {\n            return this.bottom - this.top;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Tests if another rect is approximately equal to this rect (within 4 decimal places.)\n     */\n    Rectangle.prototype.equals = function (rect) {\n        // Fixing to 4 decimal places because it allows enough precision and will handle cases when something\n        // should be rounded, like .999999 should round to 1.\n        return (parseFloat(this.top.toFixed(4)) === parseFloat(rect.top.toFixed(4)) &&\n            parseFloat(this.bottom.toFixed(4)) === parseFloat(rect.bottom.toFixed(4)) &&\n            parseFloat(this.left.toFixed(4)) === parseFloat(rect.left.toFixed(4)) &&\n            parseFloat(this.right.toFixed(4)) === parseFloat(rect.right.toFixed(4)));\n    };\n    return Rectangle;\n}());\nexport { Rectangle };\n//# sourceMappingURL=Rectangle.js.map","var _a;\nimport { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { css, divProperties, elementContains, focusFirstChild, getNativeProps, on, shallowCompare, getPropsWithDefaults, } from '../../Utilities';\nimport { positionCallout, getMaxHeight, RectangleEdge, positionCard, getBoundsFromTargetWindow, } from '../../Positioning';\nimport { Popup } from '../../Popup';\nimport { classNamesFunction } from '../../Utilities';\nimport { AnimationClassNames } from '../../Styling';\nimport { useMergedRefs, useAsync, useConst, useTarget } from '@fluentui/react-hooks';\nvar COMPONENT_NAME = 'CalloutContentBase';\nvar ANIMATIONS = (_a = {},\n    _a[RectangleEdge.top] = AnimationClassNames.slideUpIn10,\n    _a[RectangleEdge.bottom] = AnimationClassNames.slideDownIn10,\n    _a[RectangleEdge.left] = AnimationClassNames.slideLeftIn10,\n    _a[RectangleEdge.right] = AnimationClassNames.slideRightIn10,\n    _a);\nvar BEAK_ORIGIN_POSITION = { top: 0, left: 0 };\n// Microsoft Edge will overwrite inline styles if there is an animation pertaining to that style.\n// To help ensure that edge will respect the offscreen style opacity\n// filter needs to be added as an additional way to set opacity.\n// Also set pointer-events: none so that the callout will not occlude the element it is\n// going to be positioned against\nvar OFF_SCREEN_STYLE = { opacity: 0, filter: 'opacity(0)', pointerEvents: 'none' };\n// role and role description go hand-in-hand. Both would be included by spreading getNativeProps for a basic element\n// This constant array can be used to filter these out of native props spread on callout root and apply them together on\n// calloutMain (the Popup component within the callout)\nvar ARIA_ROLE_ATTRIBUTES = ['role', 'aria-roledescription'];\nvar DEFAULT_PROPS = {\n    preventDismissOnLostFocus: false,\n    preventDismissOnScroll: false,\n    preventDismissOnResize: false,\n    isBeakVisible: true,\n    beakWidth: 16,\n    gapSpace: 0,\n    minPagePadding: 8,\n    directionalHint: DirectionalHint.bottomAutoEdge,\n};\nvar getClassNames = classNamesFunction({\n    disableCaching: true,\n});\n/**\n * (Hook) to return a function to lazily fetch the bounds of the target element for the callout.\n */\nfunction useBounds(_a, targetRef, targetWindow) {\n    var bounds = _a.bounds, _b = _a.minPagePadding, minPagePadding = _b === void 0 ? DEFAULT_PROPS.minPagePadding : _b, target = _a.target;\n    var cachedBounds = React.useRef();\n    var getBounds = React.useCallback(function () {\n        if (!cachedBounds.current) {\n            var currentBounds = typeof bounds === 'function' ? (targetWindow ? bounds(target, targetWindow) : undefined) : bounds;\n            if (!currentBounds && targetWindow) {\n                currentBounds = getBoundsFromTargetWindow(targetRef.current, targetWindow);\n                currentBounds = {\n                    top: currentBounds.top + minPagePadding,\n                    left: currentBounds.left + minPagePadding,\n                    right: currentBounds.right - minPagePadding,\n                    bottom: currentBounds.bottom - minPagePadding,\n                    width: currentBounds.width - minPagePadding * 2,\n                    height: currentBounds.height - minPagePadding * 2,\n                };\n            }\n            cachedBounds.current = currentBounds;\n        }\n        return cachedBounds.current;\n    }, [bounds, minPagePadding, target, targetRef, targetWindow]);\n    return getBounds;\n}\n/**\n * (Hook) to return the maximum available height for the Callout to render into.\n */\nfunction useMaxHeight(_a, targetRef, getBounds) {\n    var beakWidth = _a.beakWidth, coverTarget = _a.coverTarget, directionalHint = _a.directionalHint, directionalHintFixed = _a.directionalHintFixed, gapSpace = _a.gapSpace, isBeakVisible = _a.isBeakVisible, hidden = _a.hidden;\n    var _b = React.useState(), maxHeight = _b[0], setMaxHeight = _b[1];\n    var async = useAsync();\n    // Updating targetRef won't re-render the component, but it's recalculated (if needed) with every render\n    // If it mutates, we want to re-run the effect\n    var currentTarget = targetRef.current;\n    React.useEffect(function () {\n        var _a;\n        if (!maxHeight && !hidden) {\n            if (directionalHintFixed && currentTarget) {\n                // Since the callout cannot measure it's border size it must be taken into account here. Otherwise it will\n                // overlap with the target.\n                var totalGap_1 = (gapSpace !== null && gapSpace !== void 0 ? gapSpace : 0) + (isBeakVisible && beakWidth ? beakWidth : 0);\n                async.requestAnimationFrame(function () {\n                    if (targetRef.current) {\n                        setMaxHeight(getMaxHeight(targetRef.current, directionalHint, totalGap_1, getBounds(), coverTarget));\n                    }\n                });\n            }\n            else {\n                setMaxHeight((_a = getBounds()) === null || _a === void 0 ? void 0 : _a.height);\n            }\n        }\n        else if (hidden) {\n            setMaxHeight(undefined);\n        }\n    }, [\n        targetRef,\n        currentTarget,\n        gapSpace,\n        beakWidth,\n        getBounds,\n        hidden,\n        async,\n        coverTarget,\n        directionalHint,\n        directionalHintFixed,\n        isBeakVisible,\n        maxHeight,\n    ]);\n    return maxHeight;\n}\n/**\n * (Hook) to return the height offset of the callout element and updates it each frame to approach the configured\n * finalHeight.\n */\nfunction useHeightOffset(_a, calloutElement) {\n    var finalHeight = _a.finalHeight, hidden = _a.hidden;\n    var _b = React.useState(0), heightOffset = _b[0], setHeightOffset = _b[1];\n    var async = useAsync();\n    var setHeightOffsetTimer = React.useRef();\n    var setHeightOffsetEveryFrame = React.useCallback(function () {\n        if (calloutElement.current && finalHeight) {\n            setHeightOffsetTimer.current = async.requestAnimationFrame(function () {\n                var _a;\n                var calloutMainElem = (_a = calloutElement.current) === null || _a === void 0 ? void 0 : _a.lastChild;\n                if (!calloutMainElem) {\n                    return;\n                }\n                var cardScrollHeight = calloutMainElem.scrollHeight;\n                var cardCurrHeight = calloutMainElem.offsetHeight;\n                var scrollDiff = cardScrollHeight - cardCurrHeight;\n                setHeightOffset(function (currentHeightOffset) { return currentHeightOffset + scrollDiff; });\n                if (calloutMainElem.offsetHeight < finalHeight) {\n                    setHeightOffsetEveryFrame();\n                }\n                else {\n                    async.cancelAnimationFrame(setHeightOffsetTimer.current, calloutElement.current);\n                }\n            }, calloutElement.current);\n        }\n    }, [async, calloutElement, finalHeight]);\n    React.useEffect(function () {\n        if (!hidden) {\n            setHeightOffsetEveryFrame();\n        }\n    }, [finalHeight, hidden, setHeightOffsetEveryFrame]);\n    return heightOffset;\n}\n/**\n * (Hook) to find the current position of Callout. If Callout is resized then a new position is calculated.\n */\nfunction usePositions(props, hostElement, calloutElement, targetRef, getBounds) {\n    var _a = React.useState(), positions = _a[0], setPositions = _a[1];\n    var positionAttempts = React.useRef(0);\n    var async = useAsync();\n    var hidden = props.hidden, target = props.target, finalHeight = props.finalHeight, onPositioned = props.onPositioned, directionalHint = props.directionalHint;\n    React.useEffect(function () {\n        if (!hidden) {\n            var timerId_1 = async.requestAnimationFrame(function () {\n                // If we expect a target element to position against, we need to wait until `targetRef.current`\n                // is resolved. Otherwise we can try to position.\n                var expectsTarget = !!target;\n                if (hostElement.current && calloutElement.current && (!expectsTarget || targetRef.current)) {\n                    var currentProps = __assign(__assign({}, props), { target: targetRef.current, bounds: getBounds() });\n                    // If there is a finalHeight given then we assume that the user knows and will handle\n                    // additional positioning adjustments so we should call positionCard\n                    var newPositions = finalHeight\n                        ? positionCard(currentProps, hostElement.current, calloutElement.current, positions)\n                        : positionCallout(currentProps, hostElement.current, calloutElement.current, positions);\n                    // Set the new position only when the positions are not exists or one of the new callout positions\n                    // are different. The position should not change if the position is within 2 decimal places.\n                    if ((!positions && newPositions) ||\n                        (positions && newPositions && !arePositionsEqual(positions, newPositions) && positionAttempts.current < 5)) {\n                        // We should not reposition the callout more than a few times, if it is then the content is likely resizing\n                        // and we should stop trying to reposition to prevent a stack overflow.\n                        positionAttempts.current++;\n                        setPositions(newPositions);\n                    }\n                    else if (positionAttempts.current > 0) {\n                        // Only call the onPositioned callback if the callout has been re-positioned at least once.\n                        positionAttempts.current = 0;\n                        onPositioned === null || onPositioned === void 0 ? void 0 : onPositioned(positions);\n                    }\n                }\n            }, calloutElement.current);\n            return function () { return async.cancelAnimationFrame(timerId_1); };\n        }\n    }, [\n        hidden,\n        directionalHint,\n        async,\n        calloutElement,\n        hostElement,\n        targetRef,\n        finalHeight,\n        getBounds,\n        onPositioned,\n        positions,\n        props,\n        target,\n    ]);\n    return positions;\n}\n/**\n * (Hook) to set up behavior to automatically focus the callout when it appears, if indicated by props.\n */\nfunction useAutoFocus(_a, positions, calloutElement) {\n    var hidden = _a.hidden, setInitialFocus = _a.setInitialFocus;\n    var async = useAsync();\n    var hasPositions = !!positions;\n    React.useEffect(function () {\n        if (!hidden && setInitialFocus && hasPositions && calloutElement.current) {\n            var timerId_2 = async.requestAnimationFrame(function () { return focusFirstChild(calloutElement.current); }, calloutElement.current);\n            return function () { return async.cancelAnimationFrame(timerId_2); };\n        }\n    }, [hidden, hasPositions, async, calloutElement, setInitialFocus]);\n}\n/**\n * (Hook) to set up various handlers to dismiss the popup when it loses focus or the window scrolls or similar cases.\n */\nfunction useDismissHandlers(_a, positions, hostElement, targetRef, targetWindow) {\n    var hidden = _a.hidden, onDismiss = _a.onDismiss, \n    // eslint-disable-next-line deprecation/deprecation\n    preventDismissOnScroll = _a.preventDismissOnScroll, \n    // eslint-disable-next-line deprecation/deprecation\n    preventDismissOnResize = _a.preventDismissOnResize, \n    // eslint-disable-next-line deprecation/deprecation\n    preventDismissOnLostFocus = _a.preventDismissOnLostFocus, dismissOnTargetClick = _a.dismissOnTargetClick, shouldDismissOnWindowFocus = _a.shouldDismissOnWindowFocus, preventDismissOnEvent = _a.preventDismissOnEvent;\n    var isMouseDownOnPopup = React.useRef(false);\n    var async = useAsync();\n    var mouseDownHandlers = useConst([\n        function () {\n            isMouseDownOnPopup.current = true;\n        },\n        function () {\n            isMouseDownOnPopup.current = false;\n        },\n    ]);\n    var positionsExists = !!positions;\n    React.useEffect(function () {\n        var dismissOnScroll = function (ev) {\n            if (positionsExists && !preventDismissOnScroll) {\n                dismissOnClickOrScroll(ev);\n            }\n        };\n        var dismissOnResize = function (ev) {\n            if (!preventDismissOnResize) {\n                onDismiss === null || onDismiss === void 0 ? void 0 : onDismiss(ev);\n            }\n        };\n        var dismissOnLostFocus = function (ev) {\n            if (!preventDismissOnLostFocus) {\n                dismissOnClickOrScroll(ev);\n            }\n        };\n        var dismissOnClickOrScroll = function (ev) {\n            var target = ev.target;\n            var isEventTargetOutsideCallout = hostElement.current && !elementContains(hostElement.current, target);\n            // If mouse is pressed down on callout but moved outside then released, don't dismiss the callout.\n            if (isEventTargetOutsideCallout && isMouseDownOnPopup.current) {\n                isMouseDownOnPopup.current = false;\n                return;\n            }\n            if ((!targetRef.current && isEventTargetOutsideCallout) ||\n                (ev.target !== targetWindow &&\n                    isEventTargetOutsideCallout &&\n                    (!targetRef.current ||\n                        'stopPropagation' in targetRef.current ||\n                        dismissOnTargetClick ||\n                        (target !== targetRef.current && !elementContains(targetRef.current, target))))) {\n                onDismiss === null || onDismiss === void 0 ? void 0 : onDismiss(ev);\n            }\n        };\n        var dismissOnTargetWindowBlur = function (ev) {\n            // Do nothing\n            if (!shouldDismissOnWindowFocus) {\n                return;\n            }\n            if (((preventDismissOnEvent && !preventDismissOnEvent(ev)) ||\n                (!preventDismissOnEvent && !preventDismissOnLostFocus)) &&\n                !(targetWindow === null || targetWindow === void 0 ? void 0 : targetWindow.document.hasFocus()) &&\n                ev.relatedTarget === null) {\n                onDismiss === null || onDismiss === void 0 ? void 0 : onDismiss(ev);\n            }\n        };\n        // This is added so the callout will dismiss when the window is scrolled\n        // but not when something inside the callout is scrolled. The delay seems\n        // to be required to avoid React firing an async focus event in IE from\n        // the target changing focus quickly prior to rendering the callout.\n        var disposablesPromise = new Promise(function (resolve) {\n            async.setTimeout(function () {\n                if (!hidden && targetWindow) {\n                    var disposables_1 = [\n                        on(targetWindow, 'scroll', dismissOnScroll, true),\n                        on(targetWindow, 'resize', dismissOnResize, true),\n                        on(targetWindow.document.documentElement, 'focus', dismissOnLostFocus, true),\n                        on(targetWindow.document.documentElement, 'click', dismissOnLostFocus, true),\n                        on(targetWindow, 'blur', dismissOnTargetWindowBlur, true),\n                    ];\n                    resolve(function () {\n                        disposables_1.forEach(function (dispose) { return dispose(); });\n                    });\n                }\n            }, 0);\n        });\n        return function () {\n            disposablesPromise.then(function (dispose) { return dispose(); });\n        };\n    }, [\n        hidden,\n        async,\n        hostElement,\n        targetRef,\n        targetWindow,\n        onDismiss,\n        shouldDismissOnWindowFocus,\n        dismissOnTargetClick,\n        preventDismissOnLostFocus,\n        preventDismissOnResize,\n        preventDismissOnScroll,\n        positionsExists,\n        preventDismissOnEvent,\n    ]);\n    return mouseDownHandlers;\n}\nexport var CalloutContentBase = React.memo(React.forwardRef(function (propsWithoutDefaults, forwardedRef) {\n    var props = getPropsWithDefaults(DEFAULT_PROPS, propsWithoutDefaults);\n    var styles = props.styles, style = props.style, ariaLabel = props.ariaLabel, ariaDescribedBy = props.ariaDescribedBy, ariaLabelledBy = props.ariaLabelledBy, className = props.className, isBeakVisible = props.isBeakVisible, children = props.children, beakWidth = props.beakWidth, calloutWidth = props.calloutWidth, calloutMaxWidth = props.calloutMaxWidth, calloutMinWidth = props.calloutMinWidth, doNotLayer = props.doNotLayer, finalHeight = props.finalHeight, _a = props.hideOverflow, hideOverflow = _a === void 0 ? !!finalHeight : _a, backgroundColor = props.backgroundColor, calloutMaxHeight = props.calloutMaxHeight, onScroll = props.onScroll, \n    // eslint-disable-next-line deprecation/deprecation\n    _b = props.shouldRestoreFocus, \n    // eslint-disable-next-line deprecation/deprecation\n    shouldRestoreFocus = _b === void 0 ? true : _b, target = props.target, hidden = props.hidden, onLayerMounted = props.onLayerMounted;\n    var hostElement = React.useRef(null);\n    var calloutElement = React.useRef(null);\n    var rootRef = useMergedRefs(hostElement, forwardedRef);\n    var _c = useTarget(props.target, calloutElement), targetRef = _c[0], targetWindow = _c[1];\n    var getBounds = useBounds(props, targetRef, targetWindow);\n    var maxHeight = useMaxHeight(props, targetRef, getBounds);\n    var heightOffset = useHeightOffset(props, calloutElement);\n    var positions = usePositions(props, hostElement, calloutElement, targetRef, getBounds);\n    var _d = useDismissHandlers(props, positions, hostElement, targetRef, targetWindow), mouseDownOnPopup = _d[0], mouseUpOnPopup = _d[1];\n    useAutoFocus(props, positions, calloutElement);\n    React.useEffect(function () {\n        if (!hidden) {\n            onLayerMounted === null || onLayerMounted === void 0 ? void 0 : onLayerMounted();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps -- should only run if hidden changes\n    }, [hidden]);\n    // If there is no target window then we are likely in server side rendering and we should not render anything.\n    if (!targetWindow) {\n        return null;\n    }\n    var getContentMaxHeight = maxHeight ? maxHeight + heightOffset : undefined;\n    var contentMaxHeight = calloutMaxHeight || getContentMaxHeight;\n    var overflowYHidden = hideOverflow;\n    var beakVisible = isBeakVisible && !!target;\n    var classNames = getClassNames(styles, {\n        theme: props.theme,\n        className: className,\n        overflowYHidden: overflowYHidden,\n        calloutWidth: calloutWidth,\n        positions: positions,\n        beakWidth: beakWidth,\n        backgroundColor: backgroundColor,\n        calloutMaxWidth: calloutMaxWidth,\n        calloutMinWidth: calloutMinWidth,\n        doNotLayer: doNotLayer,\n    });\n    var overflowStyle = __assign(__assign({ maxHeight: contentMaxHeight }, style), (overflowYHidden && { overflowY: 'hidden' }));\n    var visibilityStyle = props.hidden ? { visibility: 'hidden' } : undefined;\n    // React.CSSProperties does not understand IRawStyle, so the inline animations will need to be cast as any for now.\n    var content = (React.createElement(\"div\", { ref: rootRef, className: classNames.container, style: visibilityStyle },\n        React.createElement(\"div\", __assign({}, getNativeProps(props, divProperties, ARIA_ROLE_ATTRIBUTES), { className: css(classNames.root, positions && positions.targetEdge && ANIMATIONS[positions.targetEdge]), style: positions ? positions.elementPosition : OFF_SCREEN_STYLE, \n            // Safari and Firefox on Mac OS requires this to back-stop click events so focus remains in the Callout.\n            // See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n            tabIndex: -1, ref: calloutElement }),\n            beakVisible && React.createElement(\"div\", { className: classNames.beak, style: getBeakPosition(positions) }),\n            beakVisible && React.createElement(\"div\", { className: classNames.beakCurtain }),\n            React.createElement(Popup, __assign({}, getNativeProps(props, ARIA_ROLE_ATTRIBUTES), { ariaDescribedBy: ariaDescribedBy, ariaLabel: ariaLabel, ariaLabelledBy: ariaLabelledBy, className: classNames.calloutMain, onDismiss: props.onDismiss, onMouseDown: mouseDownOnPopup, onMouseUp: mouseUpOnPopup, onRestoreFocus: props.onRestoreFocus, onScroll: onScroll, shouldRestoreFocus: shouldRestoreFocus, style: overflowStyle }), children))));\n    return content;\n}), function (previousProps, nextProps) {\n    if (!nextProps.shouldUpdateWhenHidden && previousProps.hidden && nextProps.hidden) {\n        // Do not update when hidden.\n        return true;\n    }\n    return shallowCompare(previousProps, nextProps);\n});\n/**\n * (Utility) to find and return the current `Callout` Beak position.\n *\n * @param positions\n */\nfunction getBeakPosition(positions) {\n    var _a;\n    var beakPositionStyle = __assign({}, (_a = positions === null || positions === void 0 ? void 0 : positions.beakPosition) === null || _a === void 0 ? void 0 : _a.elementPosition);\n    if (!beakPositionStyle.top && !beakPositionStyle.bottom && !beakPositionStyle.left && !beakPositionStyle.right) {\n        beakPositionStyle.left = BEAK_ORIGIN_POSITION.left;\n        beakPositionStyle.top = BEAK_ORIGIN_POSITION.top;\n    }\n    return beakPositionStyle;\n}\n/**\n * (Utility) used to compare two different elementPositions to determine whether they are equal.\n *\n * @param prevElementPositions\n * @param newElementPosition\n */\nfunction arePositionsEqual(prevElementPositions, newElementPosition) {\n    return (comparePositions(prevElementPositions.elementPosition, newElementPosition.elementPosition) &&\n        comparePositions(prevElementPositions.beakPosition.elementPosition, newElementPosition.beakPosition.elementPosition));\n}\n/**\n * (Utility) used in **arePositionsEqual** to compare two different elementPositions.\n *\n * @param prevElementPositions\n * @param newElementPositions\n */\nfunction comparePositions(prevElementPositions, newElementPositions) {\n    for (var key in newElementPositions) {\n        if (newElementPositions.hasOwnProperty(key)) {\n            var oldPositionEdge = prevElementPositions[key];\n            var newPositionEdge = newElementPositions[key];\n            if (oldPositionEdge !== undefined && newPositionEdge !== undefined) {\n                if (oldPositionEdge.toFixed(2) !== newPositionEdge.toFixed(2)) {\n                    return false;\n                }\n            }\n            else {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nCalloutContentBase.displayName = COMPONENT_NAME;\n//# sourceMappingURL=CalloutContent.base.js.map","import { HighContrastSelector, focusClear, getGlobalClassNames, ZIndexes } from '../../Styling';\nfunction getBeakStyle(beakWidth) {\n    return {\n        height: beakWidth,\n        width: beakWidth,\n    };\n}\nvar GlobalClassNames = {\n    container: 'ms-Callout-container',\n    root: 'ms-Callout',\n    beak: 'ms-Callout-beak',\n    beakCurtain: 'ms-Callout-beakCurtain',\n    calloutMain: 'ms-Callout-main',\n};\nexport var getStyles = function (props) {\n    var _a;\n    var theme = props.theme, className = props.className, overflowYHidden = props.overflowYHidden, calloutWidth = props.calloutWidth, beakWidth = props.beakWidth, backgroundColor = props.backgroundColor, calloutMaxWidth = props.calloutMaxWidth, calloutMinWidth = props.calloutMinWidth, doNotLayer = props.doNotLayer;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    var semanticColors = theme.semanticColors, effects = theme.effects;\n    return {\n        container: [\n            classNames.container,\n            {\n                position: 'relative',\n            },\n        ],\n        root: [\n            classNames.root,\n            theme.fonts.medium,\n            {\n                position: 'absolute',\n                zIndex: doNotLayer ? ZIndexes.Layer : undefined,\n                boxSizing: 'border-box',\n                borderRadius: effects.roundedCorner2,\n                boxShadow: effects.elevation16,\n                selectors: (_a = {},\n                    _a[HighContrastSelector] = {\n                        borderWidth: 1,\n                        borderStyle: 'solid',\n                        borderColor: 'WindowText',\n                    },\n                    _a),\n            },\n            focusClear(),\n            className,\n            !!calloutWidth && { width: calloutWidth },\n            !!calloutMaxWidth && { maxWidth: calloutMaxWidth },\n            !!calloutMinWidth && { minWidth: calloutMinWidth },\n        ],\n        beak: [\n            classNames.beak,\n            {\n                position: 'absolute',\n                backgroundColor: semanticColors.menuBackground,\n                boxShadow: 'inherit',\n                border: 'inherit',\n                boxSizing: 'border-box',\n                transform: 'rotate(45deg)',\n            },\n            getBeakStyle(beakWidth),\n            backgroundColor && {\n                backgroundColor: backgroundColor,\n            },\n        ],\n        beakCurtain: [\n            classNames.beakCurtain,\n            {\n                position: 'absolute',\n                top: 0,\n                right: 0,\n                bottom: 0,\n                left: 0,\n                backgroundColor: semanticColors.menuBackground,\n                borderRadius: effects.roundedCorner2,\n            },\n        ],\n        calloutMain: [\n            classNames.calloutMain,\n            {\n                backgroundColor: semanticColors.menuBackground,\n                overflowX: 'hidden',\n                overflowY: 'auto',\n                position: 'relative',\n                borderRadius: effects.roundedCorner2,\n            },\n            overflowYHidden && {\n                overflowY: 'hidden',\n            },\n            backgroundColor && {\n                backgroundColor: backgroundColor,\n            },\n        ],\n    };\n};\n//# sourceMappingURL=CalloutContent.styles.js.map","import { styled } from '../../Utilities';\nimport { CalloutContentBase } from './CalloutContent.base';\nimport { getStyles } from './CalloutContent.styles';\nexport var CalloutContent = styled(CalloutContentBase, getStyles, undefined, {\n    scope: 'CalloutContent',\n});\n//# sourceMappingURL=CalloutContent.js.map","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { CalloutContent } from './CalloutContent';\nimport { Layer } from '../../Layer';\nexport var Callout = React.forwardRef(function (_a, forwardedRef) {\n    var layerProps = _a.layerProps, doNotLayer = _a.doNotLayer, rest = __rest(_a, [\"layerProps\", \"doNotLayer\"]);\n    var content = React.createElement(CalloutContent, __assign({}, rest, { doNotLayer: doNotLayer, ref: forwardedRef }));\n    return doNotLayer ? content : React.createElement(Layer, __assign({}, layerProps), content);\n});\nCallout.displayName = 'Callout';\n//# sourceMappingURL=Callout.js.map","export { DirectionalHint } from '../../common/DirectionalHint';\n/**\n * {@docCategory ContextualMenu}\n */\nexport var ContextualMenuItemType;\n(function (ContextualMenuItemType) {\n    ContextualMenuItemType[ContextualMenuItemType[\"Normal\"] = 0] = \"Normal\";\n    ContextualMenuItemType[ContextualMenuItemType[\"Divider\"] = 1] = \"Divider\";\n    ContextualMenuItemType[ContextualMenuItemType[\"Header\"] = 2] = \"Header\";\n    ContextualMenuItemType[ContextualMenuItemType[\"Section\"] = 3] = \"Section\";\n})(ContextualMenuItemType || (ContextualMenuItemType = {}));\n//# sourceMappingURL=ContextualMenu.types.js.map","import { getWindow } from './dom/getWindow';\nvar isMacResult;\n/**\n * Returns true if the user is on a Mac. Caches the result value.\n * @param reset - Reset the cached result value (mainly for testing).\n */\nexport function isMac(reset) {\n    if (typeof isMacResult === 'undefined' || reset) {\n        var win = getWindow();\n        var userAgent = win && win.navigator.userAgent;\n        isMacResult = !!userAgent && userAgent.indexOf('Macintosh') !== -1;\n    }\n    return !!isMacResult;\n}\n//# sourceMappingURL=osDetector.js.map","/**\n * Returns true if and only if the user is on a iOS device.\n * Used to determine whether iOS-specific behavior should be applied.\n */\nexport var isIOS = function () {\n    if (!window || !window.navigator || !window.navigator.userAgent) {\n        return false;\n    }\n    return /iPad|iPhone|iPod/i.test(window.navigator.userAgent);\n};\n//# sourceMappingURL=mobileDetector.js.map","/**\n * Determines the effective checked state of a menu item.\n *\n * @param item {IContextualMenuItem} to get the check state of.\n * @returns {true} if the item is checked.\n * @returns {false} if the item is unchecked.\n * @returns {null} if the item is not checkable.\n */\nexport function getIsChecked(item) {\n    if (item.canCheck) {\n        return !!(item.isChecked || item.checked);\n    }\n    if (typeof item.isChecked === 'boolean') {\n        return item.isChecked;\n    }\n    if (typeof item.checked === 'boolean') {\n        return item.checked;\n    }\n    // Item is not checkable.\n    return null;\n}\nexport function hasSubmenu(item) {\n    return !!(item.subMenuProps || item.items);\n}\nexport function isItemDisabled(item) {\n    return !!(item.isDisabled || item.disabled);\n}\nexport function getMenuItemAriaRole(item) {\n    var isChecked = getIsChecked(item);\n    var canCheck = isChecked !== null;\n    return canCheck ? 'menuitemcheckbox' : 'menuitem';\n}\n//# sourceMappingURL=contextualMenuUtility.js.map","import Loadable from 'react-loadable';\nexport var Callout = Loadable({\n  loader: function() { return import(/* webpackChunkName: \"fabric.async\" */ \"!!./Callout.js\").then(function(m) { return m.Callout; }); },\n  loading: function() { return null; }\n});","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { hasSubmenu, getIsChecked } from '../../utilities/contextualMenu/index';\nimport { getRTL, initializeComponentRef } from '../../Utilities';\nimport { Icon } from '../../Icon';\nvar renderItemIcon = function (props) {\n    var item = props.item, hasIcons = props.hasIcons, classNames = props.classNames;\n    var iconProps = item.iconProps;\n    if (!hasIcons) {\n        return null;\n    }\n    if (item.onRenderIcon) {\n        return item.onRenderIcon(props);\n    }\n    return React.createElement(Icon, __assign({}, iconProps, { className: classNames.icon }));\n};\nvar renderCheckMarkIcon = function (_a) {\n    var onCheckmarkClick = _a.onCheckmarkClick, item = _a.item, classNames = _a.classNames;\n    var isItemChecked = getIsChecked(item);\n    if (onCheckmarkClick) {\n        // Ensures that the item is passed as the first argument to the checkmark click callback.\n        var onClick = function (e) { return onCheckmarkClick(item, e); };\n        return (React.createElement(Icon, { iconName: item.canCheck !== false && isItemChecked ? 'CheckMark' : '', className: classNames.checkmarkIcon, \n            // eslint-disable-next-line react/jsx-no-bind\n            onClick: onClick }));\n    }\n    return null;\n};\nvar renderItemName = function (_a) {\n    var item = _a.item, classNames = _a.classNames;\n    /* eslint-disable deprecation/deprecation */\n    if (item.text || item.name) {\n        return React.createElement(\"span\", { className: classNames.label }, item.text || item.name);\n    }\n    /* eslint-enable deprecation/deprecation */\n    return null;\n};\nvar renderSecondaryText = function (_a) {\n    var item = _a.item, classNames = _a.classNames;\n    if (item.secondaryText) {\n        return React.createElement(\"span\", { className: classNames.secondaryText }, item.secondaryText);\n    }\n    return null;\n};\nvar renderSubMenuIcon = function (_a) {\n    var item = _a.item, classNames = _a.classNames, theme = _a.theme;\n    if (hasSubmenu(item)) {\n        return (React.createElement(Icon, __assign({ iconName: getRTL(theme) ? 'ChevronLeft' : 'ChevronRight' }, item.submenuIconProps, { className: classNames.subMenuIcon })));\n    }\n    return null;\n};\nvar ContextualMenuItemBase = /** @class */ (function (_super) {\n    __extends(ContextualMenuItemBase, _super);\n    function ContextualMenuItemBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this.openSubMenu = function () {\n            var _a = _this.props, item = _a.item, openSubMenu = _a.openSubMenu, getSubmenuTarget = _a.getSubmenuTarget;\n            if (getSubmenuTarget) {\n                var submenuTarget = getSubmenuTarget();\n                if (hasSubmenu(item) && openSubMenu && submenuTarget) {\n                    openSubMenu(item, submenuTarget);\n                }\n            }\n        };\n        _this.dismissSubMenu = function () {\n            var _a = _this.props, item = _a.item, dismissSubMenu = _a.dismissSubMenu;\n            if (hasSubmenu(item) && dismissSubMenu) {\n                dismissSubMenu();\n            }\n        };\n        _this.dismissMenu = function (dismissAll) {\n            var dismissMenu = _this.props.dismissMenu;\n            if (dismissMenu) {\n                dismissMenu(undefined /* ev */, dismissAll);\n            }\n        };\n        initializeComponentRef(_this);\n        return _this;\n    }\n    ContextualMenuItemBase.prototype.render = function () {\n        var _a = this.props, item = _a.item, classNames = _a.classNames;\n        var renderContent = item.onRenderContent || this._renderLayout;\n        return (React.createElement(\"div\", { className: item.split ? classNames.linkContentMenu : classNames.linkContent }, renderContent(this.props, {\n            renderCheckMarkIcon: renderCheckMarkIcon,\n            renderItemIcon: renderItemIcon,\n            renderItemName: renderItemName,\n            renderSecondaryText: renderSecondaryText,\n            renderSubMenuIcon: renderSubMenuIcon,\n        })));\n    };\n    ContextualMenuItemBase.prototype._renderLayout = function (props, defaultRenders) {\n        return (React.createElement(React.Fragment, null,\n            defaultRenders.renderCheckMarkIcon(props),\n            defaultRenders.renderItemIcon(props),\n            defaultRenders.renderItemName(props),\n            defaultRenders.renderSecondaryText(props),\n            defaultRenders.renderSubMenuIcon(props)));\n    };\n    return ContextualMenuItemBase;\n}(React.Component));\nexport { ContextualMenuItemBase };\n//# sourceMappingURL=ContextualMenuItem.base.js.map","import { memoizeFunction } from '../../Utilities';\nimport { mergeStyleSets } from '../../Styling';\n/**\n * @deprecated use getStyles exported from VerticalDivider.styles.ts\n */\nexport var getDividerClassNames = memoizeFunction(\n// eslint-disable-next-line deprecation/deprecation\nfunction (theme) {\n    return mergeStyleSets({\n        wrapper: {\n            display: 'inline-flex',\n            height: '100%',\n            alignItems: 'center',\n        },\n        divider: {\n            width: 1,\n            height: '100%',\n            backgroundColor: theme.palette.neutralTertiaryAlt,\n        },\n    });\n});\n//# sourceMappingURL=VerticalDivider.classNames.js.map","import { __assign } from \"tslib\";\nimport { concatStyleSets, getFocusStyle, HighContrastSelector, getScreenSelector, ScreenWidthMaxMedium, IconFontSizes, getHighContrastNoAdjustStyle, } from '../../Styling';\nimport { memoizeFunction } from '../../Utilities';\nexport var CONTEXTUAL_MENU_ITEM_HEIGHT = 36;\nvar MediumScreenSelector = getScreenSelector(0, ScreenWidthMaxMedium);\nvar getItemHighContrastStyles = memoizeFunction(function () {\n    var _a;\n    return {\n        selectors: (_a = {},\n            _a[HighContrastSelector] = __assign({ backgroundColor: 'Highlight', borderColor: 'Highlight', color: 'HighlightText' }, getHighContrastNoAdjustStyle()),\n            _a),\n    };\n});\nexport var getMenuItemStyles = memoizeFunction(function (theme) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    var semanticColors = theme.semanticColors, fonts = theme.fonts, palette = theme.palette;\n    var ContextualMenuItemBackgroundHoverColor = semanticColors.menuItemBackgroundHovered;\n    var ContextualMenuItemTextHoverColor = semanticColors.menuItemTextHovered;\n    var ContextualMenuItemBackgroundSelectedColor = semanticColors.menuItemBackgroundPressed;\n    var ContextualMenuItemDividerColor = semanticColors.bodyDivider;\n    var menuItemStyles = {\n        item: [\n            fonts.medium,\n            {\n                color: semanticColors.bodyText,\n                position: 'relative',\n                boxSizing: 'border-box',\n            },\n        ],\n        divider: {\n            display: 'block',\n            height: '1px',\n            backgroundColor: ContextualMenuItemDividerColor,\n            position: 'relative',\n        },\n        root: [\n            getFocusStyle(theme),\n            fonts.medium,\n            {\n                color: semanticColors.bodyText,\n                backgroundColor: 'transparent',\n                border: 'none',\n                width: '100%',\n                height: CONTEXTUAL_MENU_ITEM_HEIGHT,\n                lineHeight: CONTEXTUAL_MENU_ITEM_HEIGHT,\n                display: 'block',\n                cursor: 'pointer',\n                padding: '0px 8px 0 4px',\n                textAlign: 'left',\n            },\n        ],\n        rootDisabled: {\n            color: semanticColors.disabledBodyText,\n            cursor: 'default',\n            pointerEvents: 'none',\n            selectors: (_a = {},\n                _a[HighContrastSelector] = __assign({ color: 'GrayText', opacity: 1 }, getHighContrastNoAdjustStyle()),\n                _a),\n        },\n        rootHovered: __assign({ backgroundColor: ContextualMenuItemBackgroundHoverColor, color: ContextualMenuItemTextHoverColor, selectors: {\n                '.ms-ContextualMenu-icon': {\n                    color: palette.themeDarkAlt,\n                },\n                '.ms-ContextualMenu-submenuIcon': {\n                    color: palette.neutralPrimary,\n                },\n            } }, getItemHighContrastStyles()),\n        rootFocused: __assign({ backgroundColor: palette.white }, getItemHighContrastStyles()),\n        rootChecked: __assign({ selectors: {\n                '.ms-ContextualMenu-checkmarkIcon': {\n                    color: palette.neutralPrimary,\n                },\n            } }, getItemHighContrastStyles()),\n        rootPressed: __assign({ backgroundColor: ContextualMenuItemBackgroundSelectedColor, selectors: {\n                '.ms-ContextualMenu-icon': {\n                    color: palette.themeDark,\n                },\n                '.ms-ContextualMenu-submenuIcon': {\n                    color: palette.neutralPrimary,\n                },\n            } }, getItemHighContrastStyles()),\n        rootExpanded: __assign({ backgroundColor: ContextualMenuItemBackgroundSelectedColor, color: semanticColors.bodyTextChecked }, getItemHighContrastStyles()),\n        linkContent: {\n            whiteSpace: 'nowrap',\n            height: 'inherit',\n            display: 'flex',\n            alignItems: 'center',\n            maxWidth: '100%',\n        },\n        anchorLink: {\n            padding: '0px 8px 0 4px',\n            textRendering: 'auto',\n            color: 'inherit',\n            letterSpacing: 'normal',\n            wordSpacing: 'normal',\n            textTransform: 'none',\n            textIndent: '0px',\n            textShadow: 'none',\n            textDecoration: 'none',\n            boxSizing: 'border-box',\n        },\n        label: {\n            margin: '0 4px',\n            verticalAlign: 'middle',\n            display: 'inline-block',\n            flexGrow: '1',\n            textOverflow: 'ellipsis',\n            overflow: 'hidden',\n            whiteSpace: 'nowrap',\n        },\n        secondaryText: {\n            color: theme.palette.neutralSecondary,\n            paddingLeft: '20px',\n            textAlign: 'right',\n        },\n        icon: {\n            display: 'inline-block',\n            minHeight: '1px',\n            maxHeight: CONTEXTUAL_MENU_ITEM_HEIGHT,\n            fontSize: IconFontSizes.medium,\n            width: IconFontSizes.medium,\n            margin: '0 4px',\n            verticalAlign: 'middle',\n            flexShrink: '0',\n            selectors: (_b = {},\n                _b[MediumScreenSelector] = {\n                    fontSize: IconFontSizes.large,\n                    width: IconFontSizes.large,\n                },\n                _b),\n        },\n        iconColor: {\n            color: semanticColors.menuIcon,\n            selectors: (_c = {},\n                _c[HighContrastSelector] = {\n                    color: 'inherit',\n                },\n                _c['$root:hover &'] = {\n                    selectors: (_d = {},\n                        _d[HighContrastSelector] = {\n                            color: 'HighlightText',\n                        },\n                        _d),\n                },\n                _c['$root:focus &'] = {\n                    selectors: (_e = {},\n                        _e[HighContrastSelector] = {\n                            color: 'HighlightText',\n                        },\n                        _e),\n                },\n                _c),\n        },\n        iconDisabled: {\n            color: semanticColors.disabledBodyText,\n        },\n        checkmarkIcon: {\n            color: semanticColors.bodySubtext,\n            selectors: (_f = {},\n                _f[HighContrastSelector] = {\n                    color: 'HighlightText',\n                },\n                _f),\n        },\n        subMenuIcon: {\n            height: CONTEXTUAL_MENU_ITEM_HEIGHT,\n            lineHeight: CONTEXTUAL_MENU_ITEM_HEIGHT,\n            color: palette.neutralSecondary,\n            textAlign: 'center',\n            display: 'inline-block',\n            verticalAlign: 'middle',\n            flexShrink: '0',\n            fontSize: IconFontSizes.small,\n            selectors: (_g = {\n                    ':hover': {\n                        color: palette.neutralPrimary,\n                    },\n                    ':active': {\n                        color: palette.neutralPrimary,\n                    }\n                },\n                _g[MediumScreenSelector] = {\n                    fontSize: IconFontSizes.medium,\n                },\n                _g[HighContrastSelector] = {\n                    color: 'HighlightText',\n                },\n                _g),\n        },\n        splitButtonFlexContainer: [\n            getFocusStyle(theme),\n            {\n                display: 'flex',\n                height: CONTEXTUAL_MENU_ITEM_HEIGHT,\n                flexWrap: 'nowrap',\n                justifyContent: 'center',\n                alignItems: 'flex-start',\n            },\n        ],\n    };\n    return concatStyleSets(menuItemStyles);\n});\n//# sourceMappingURL=ContextualMenu.cnstyles.js.map","import { getDividerClassNames } from '../Divider/VerticalDivider.classNames';\nimport { getMenuItemStyles } from './ContextualMenu.cnstyles';\nimport { mergeStyleSets, getGlobalClassNames, getScreenSelector, ScreenWidthMaxMedium, hiddenContentStyle, } from '../../Styling';\nimport { memoizeFunction, IsFocusVisibleClassName } from '../../Utilities';\nvar CONTEXTUAL_SPLIT_MENU_MINWIDTH = '28px';\nvar MediumScreenSelector = getScreenSelector(0, ScreenWidthMaxMedium);\nexport var getSplitButtonVerticalDividerClassNames = memoizeFunction(\n/* eslint-disable deprecation/deprecation */\nfunction (theme) {\n    var _a;\n    return mergeStyleSets(getDividerClassNames(theme), {\n        /* eslint-enable deprecation/deprecation */\n        wrapper: {\n            position: 'absolute',\n            right: 28,\n            selectors: (_a = {},\n                _a[MediumScreenSelector] = {\n                    right: 32,\n                },\n                _a),\n        },\n        divider: {\n            height: 16,\n            width: 1,\n        },\n    });\n});\nvar GlobalClassNames = {\n    item: 'ms-ContextualMenu-item',\n    divider: 'ms-ContextualMenu-divider',\n    root: 'ms-ContextualMenu-link',\n    isChecked: 'is-checked',\n    isExpanded: 'is-expanded',\n    isDisabled: 'is-disabled',\n    linkContent: 'ms-ContextualMenu-linkContent',\n    linkContentMenu: 'ms-ContextualMenu-linkContent',\n    icon: 'ms-ContextualMenu-icon',\n    iconColor: 'ms-ContextualMenu-iconColor',\n    checkmarkIcon: 'ms-ContextualMenu-checkmarkIcon',\n    subMenuIcon: 'ms-ContextualMenu-submenuIcon',\n    label: 'ms-ContextualMenu-itemText',\n    secondaryText: 'ms-ContextualMenu-secondaryText',\n    splitMenu: 'ms-ContextualMenu-splitMenu',\n    screenReaderText: 'ms-ContextualMenu-screenReaderText',\n};\n/**\n * @deprecated Will be removed in \\>= 7.0.\n * This is a package-internal method that has been depended on.\n * It is being kept in this form for backwards compatibility.\n * @internal\n */\n// TODO: Audit perf. impact of and potentially remove memoizeFunction.\n// https://github.com/microsoft/fluentui/issues/5534\nexport var getItemClassNames = memoizeFunction(function (theme, disabled, expanded, checked, isAnchorLink, knownIcon, itemClassName, dividerClassName, iconClassName, subMenuClassName, primaryDisabled, className) {\n    var _a, _b, _c, _d;\n    var styles = getMenuItemStyles(theme);\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    return mergeStyleSets({\n        item: [classNames.item, styles.item, itemClassName],\n        divider: [classNames.divider, styles.divider, dividerClassName],\n        root: [\n            classNames.root,\n            styles.root,\n            checked && [classNames.isChecked, styles.rootChecked],\n            isAnchorLink && styles.anchorLink,\n            expanded && [classNames.isExpanded, styles.rootExpanded],\n            disabled && [classNames.isDisabled, styles.rootDisabled],\n            !disabled &&\n                !expanded && [\n                {\n                    selectors: (_a = {\n                            ':hover': styles.rootHovered,\n                            ':active': styles.rootPressed\n                        },\n                        _a[\".\" + IsFocusVisibleClassName + \" &:focus, .\" + IsFocusVisibleClassName + \" &:focus:hover\"] = styles.rootFocused,\n                        _a[\".\" + IsFocusVisibleClassName + \" &:hover\"] = { background: 'inherit;' },\n                        _a),\n                },\n            ],\n            className,\n        ],\n        splitPrimary: [\n            styles.root,\n            {\n                width: \"calc(100% - \" + CONTEXTUAL_SPLIT_MENU_MINWIDTH + \")\",\n            },\n            checked && ['is-checked', styles.rootChecked],\n            (disabled || primaryDisabled) && ['is-disabled', styles.rootDisabled],\n            !(disabled || primaryDisabled) &&\n                !checked && [\n                {\n                    selectors: (_b = {\n                            ':hover': styles.rootHovered\n                        },\n                        // when hovering over the splitPrimary also affect the splitMenu\n                        _b[\":hover ~ .\" + classNames.splitMenu] = styles.rootHovered,\n                        _b[':active'] = styles.rootPressed,\n                        _b[\".\" + IsFocusVisibleClassName + \" &:focus, .\" + IsFocusVisibleClassName + \" &:focus:hover\"] = styles.rootFocused,\n                        _b[\".\" + IsFocusVisibleClassName + \" &:hover\"] = { background: 'inherit;' },\n                        _b),\n                },\n            ],\n        ],\n        splitMenu: [\n            classNames.splitMenu,\n            styles.root,\n            {\n                flexBasis: '0',\n                padding: '0 8px',\n                minWidth: CONTEXTUAL_SPLIT_MENU_MINWIDTH,\n            },\n            expanded && ['is-expanded', styles.rootExpanded],\n            disabled && ['is-disabled', styles.rootDisabled],\n            !disabled &&\n                !expanded && [\n                {\n                    selectors: (_c = {\n                            ':hover': styles.rootHovered,\n                            ':active': styles.rootPressed\n                        },\n                        _c[\".\" + IsFocusVisibleClassName + \" &:focus, .\" + IsFocusVisibleClassName + \" &:focus:hover\"] = styles.rootFocused,\n                        _c[\".\" + IsFocusVisibleClassName + \" &:hover\"] = { background: 'inherit;' },\n                        _c),\n                },\n            ],\n        ],\n        anchorLink: styles.anchorLink,\n        linkContent: [classNames.linkContent, styles.linkContent],\n        linkContentMenu: [\n            classNames.linkContentMenu,\n            styles.linkContent,\n            {\n                justifyContent: 'center',\n            },\n        ],\n        icon: [\n            classNames.icon,\n            knownIcon && styles.iconColor,\n            styles.icon,\n            iconClassName,\n            disabled && [classNames.isDisabled, styles.iconDisabled],\n        ],\n        iconColor: styles.iconColor,\n        checkmarkIcon: [classNames.checkmarkIcon, knownIcon && styles.checkmarkIcon, styles.icon, iconClassName],\n        subMenuIcon: [\n            classNames.subMenuIcon,\n            styles.subMenuIcon,\n            subMenuClassName,\n            expanded && { color: theme.palette.neutralPrimary },\n            disabled && [styles.iconDisabled],\n        ],\n        label: [classNames.label, styles.label],\n        secondaryText: [classNames.secondaryText, styles.secondaryText],\n        splitContainer: [\n            styles.splitButtonFlexContainer,\n            !disabled &&\n                !checked && [\n                {\n                    selectors: (_d = {},\n                        _d[\".\" + IsFocusVisibleClassName + \" &:focus, .\" + IsFocusVisibleClassName + \" &:focus:hover\"] = styles.rootFocused,\n                        _d),\n                },\n            ],\n        ],\n        screenReaderText: [\n            classNames.screenReaderText,\n            styles.screenReaderText,\n            hiddenContentStyle,\n            { visibility: 'hidden' },\n        ],\n    });\n});\n/**\n * Wrapper function for generating ContextualMenuItem classNames which adheres to\n * the getStyles API, but invokes memoized className generator function with\n * primitive values.\n *\n * @param props the ContextualMenuItem style props used to generate its styles.\n */\nexport var getItemStyles = function (props) {\n    var theme = props.theme, disabled = props.disabled, expanded = props.expanded, checked = props.checked, isAnchorLink = props.isAnchorLink, knownIcon = props.knownIcon, itemClassName = props.itemClassName, dividerClassName = props.dividerClassName, iconClassName = props.iconClassName, subMenuClassName = props.subMenuClassName, primaryDisabled = props.primaryDisabled, className = props.className;\n    // eslint-disable-next-line deprecation/deprecation\n    return getItemClassNames(theme, disabled, expanded, checked, isAnchorLink, knownIcon, itemClassName, dividerClassName, iconClassName, subMenuClassName, primaryDisabled, className);\n};\n//# sourceMappingURL=ContextualMenu.classNames.js.map","import { styled } from '../../Utilities';\nimport { ContextualMenuItemBase } from './ContextualMenuItem.base';\nimport { getItemStyles } from './ContextualMenu.classNames';\n/**\n * ContextualMenuItem description\n */\nexport var ContextualMenuItem = styled(ContextualMenuItemBase, getItemStyles, undefined, { scope: 'ContextualMenuItem' });\n//# sourceMappingURL=ContextualMenuItem.js.map","import { __extends } from \"tslib\";\nimport * as React from 'react';\nimport { initializeComponentRef, shallowCompare } from '../../../Utilities';\nvar ContextualMenuItemWrapper = /** @class */ (function (_super) {\n    __extends(ContextualMenuItemWrapper, _super);\n    function ContextualMenuItemWrapper(props) {\n        var _this = _super.call(this, props) || this;\n        _this._onItemMouseEnter = function (ev) {\n            var _a = _this.props, item = _a.item, onItemMouseEnter = _a.onItemMouseEnter;\n            if (onItemMouseEnter) {\n                onItemMouseEnter(item, ev, ev.currentTarget);\n            }\n        };\n        _this._onItemClick = function (ev) {\n            var _a = _this.props, item = _a.item, onItemClickBase = _a.onItemClickBase;\n            if (onItemClickBase) {\n                onItemClickBase(item, ev, ev.currentTarget);\n            }\n        };\n        _this._onItemMouseLeave = function (ev) {\n            var _a = _this.props, item = _a.item, onItemMouseLeave = _a.onItemMouseLeave;\n            if (onItemMouseLeave) {\n                onItemMouseLeave(item, ev);\n            }\n        };\n        _this._onItemKeyDown = function (ev) {\n            var _a = _this.props, item = _a.item, onItemKeyDown = _a.onItemKeyDown;\n            if (onItemKeyDown) {\n                onItemKeyDown(item, ev);\n            }\n        };\n        _this._onItemMouseMove = function (ev) {\n            var _a = _this.props, item = _a.item, onItemMouseMove = _a.onItemMouseMove;\n            if (onItemMouseMove) {\n                onItemMouseMove(item, ev, ev.currentTarget);\n            }\n        };\n        _this._getSubmenuTarget = function () {\n            return undefined;\n        };\n        initializeComponentRef(_this);\n        return _this;\n    }\n    ContextualMenuItemWrapper.prototype.shouldComponentUpdate = function (newProps) {\n        return !shallowCompare(newProps, this.props);\n    };\n    return ContextualMenuItemWrapper;\n}(React.Component));\nexport { ContextualMenuItemWrapper };\n//# sourceMappingURL=ContextualMenuItemWrapper.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { anchorProperties, getNativeProps, memoizeFunction, getId, mergeAriaAttributeValues } from '../../../Utilities';\nimport { ContextualMenuItemWrapper } from './ContextualMenuItemWrapper';\nimport { KeytipData } from '../../../KeytipData';\nimport { isItemDisabled, hasSubmenu } from '../../../utilities/contextualMenu/index';\nimport { ContextualMenuItem } from '../ContextualMenuItem';\nvar ContextualMenuAnchor = /** @class */ (function (_super) {\n    __extends(ContextualMenuAnchor, _super);\n    function ContextualMenuAnchor() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._anchor = React.createRef();\n        _this._getMemoizedMenuButtonKeytipProps = memoizeFunction(function (keytipProps) {\n            return __assign(__assign({}, keytipProps), { hasMenu: true });\n        });\n        _this._getSubmenuTarget = function () {\n            return _this._anchor.current ? _this._anchor.current : undefined;\n        };\n        _this._onItemClick = function (ev) {\n            var _a = _this.props, item = _a.item, onItemClick = _a.onItemClick;\n            if (onItemClick) {\n                onItemClick(item, ev);\n            }\n        };\n        _this._renderAriaDescription = function (ariaDescription, className) {\n            // If ariaDescription is given, descriptionId will be assigned to ariaDescriptionSpan\n            return ariaDescription ? (React.createElement(\"span\", { id: _this._ariaDescriptionId, className: className }, ariaDescription)) : null;\n        };\n        return _this;\n    }\n    ContextualMenuAnchor.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, item = _a.item, classNames = _a.classNames, index = _a.index, focusableElementIndex = _a.focusableElementIndex, totalItemCount = _a.totalItemCount, hasCheckmarks = _a.hasCheckmarks, hasIcons = _a.hasIcons, _b = _a.contextualMenuItemAs, ChildrenRenderer = _b === void 0 ? ContextualMenuItem : _b, expandedMenuItemKey = _a.expandedMenuItemKey, onItemClick = _a.onItemClick, openSubMenu = _a.openSubMenu, dismissSubMenu = _a.dismissSubMenu, dismissMenu = _a.dismissMenu;\n        var anchorRel = item.rel;\n        if (item.target && item.target.toLowerCase() === '_blank') {\n            anchorRel = anchorRel ? anchorRel : 'nofollow noopener noreferrer'; // Safe default to prevent tabjacking\n        }\n        var itemHasSubmenu = hasSubmenu(item);\n        var nativeProps = getNativeProps(item, anchorProperties);\n        var disabled = isItemDisabled(item);\n        var itemProps = item.itemProps, ariaDescription = item.ariaDescription;\n        var keytipProps = item.keytipProps;\n        if (keytipProps && itemHasSubmenu) {\n            keytipProps = this._getMemoizedMenuButtonKeytipProps(keytipProps);\n        }\n        // Check for ariaDescription to set the _ariaDescriptionId and render a hidden span with\n        // the description in it to be added to ariaDescribedBy\n        if (ariaDescription) {\n            this._ariaDescriptionId = getId();\n        }\n        var ariaDescribedByIds = mergeAriaAttributeValues(item.ariaDescribedBy, ariaDescription ? this._ariaDescriptionId : undefined, nativeProps['aria-describedby']);\n        var additionalItemProperties = {\n            'aria-describedby': ariaDescribedByIds,\n        };\n        return (React.createElement(\"div\", null,\n            React.createElement(KeytipData, { keytipProps: item.keytipProps, ariaDescribedBy: ariaDescribedByIds, disabled: disabled }, function (keytipAttributes) { return (React.createElement(\"a\", __assign({}, additionalItemProperties, nativeProps, keytipAttributes, { ref: _this._anchor, href: item.href, target: item.target, rel: anchorRel, className: classNames.root, role: \"menuitem\", \"aria-haspopup\": itemHasSubmenu || undefined, \"aria-expanded\": itemHasSubmenu ? item.key === expandedMenuItemKey : undefined, \"aria-posinset\": focusableElementIndex + 1, \"aria-setsize\": totalItemCount, \"aria-disabled\": isItemDisabled(item), \n                // eslint-disable-next-line deprecation/deprecation\n                style: item.style, onClick: _this._onItemClick, onMouseEnter: _this._onItemMouseEnter, onMouseLeave: _this._onItemMouseLeave, onMouseMove: _this._onItemMouseMove, onKeyDown: itemHasSubmenu ? _this._onItemKeyDown : undefined }),\n                React.createElement(ChildrenRenderer, __assign({ componentRef: item.componentRef, item: item, classNames: classNames, index: index, onCheckmarkClick: hasCheckmarks && onItemClick ? onItemClick : undefined, hasIcons: hasIcons, openSubMenu: openSubMenu, dismissSubMenu: dismissSubMenu, dismissMenu: dismissMenu, getSubmenuTarget: _this._getSubmenuTarget }, itemProps)),\n                _this._renderAriaDescription(ariaDescription, classNames.screenReaderText))); })));\n    };\n    return ContextualMenuAnchor;\n}(ContextualMenuItemWrapper));\nexport { ContextualMenuAnchor };\n//# sourceMappingURL=ContextualMenuAnchor.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { buttonProperties, getNativeProps, memoizeFunction, getId, mergeAriaAttributeValues } from '../../../Utilities';\nimport { ContextualMenuItemWrapper } from './ContextualMenuItemWrapper';\nimport { KeytipData } from '../../../KeytipData';\nimport { getIsChecked, isItemDisabled, hasSubmenu, getMenuItemAriaRole } from '../../../utilities/contextualMenu/index';\nimport { ContextualMenuItem } from '../ContextualMenuItem';\nvar ContextualMenuButton = /** @class */ (function (_super) {\n    __extends(ContextualMenuButton, _super);\n    function ContextualMenuButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._btn = React.createRef();\n        _this._getMemoizedMenuButtonKeytipProps = memoizeFunction(function (keytipProps) {\n            return __assign(__assign({}, keytipProps), { hasMenu: true });\n        });\n        _this._renderAriaDescription = function (ariaDescription, className) {\n            // If ariaDescription is given, descriptionId will be assigned to ariaDescriptionSpan\n            return ariaDescription ? (React.createElement(\"span\", { id: _this._ariaDescriptionId, className: className }, ariaDescription)) : null;\n        };\n        _this._getSubmenuTarget = function () {\n            return _this._btn.current ? _this._btn.current : undefined;\n        };\n        return _this;\n    }\n    ContextualMenuButton.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, item = _a.item, classNames = _a.classNames, index = _a.index, focusableElementIndex = _a.focusableElementIndex, totalItemCount = _a.totalItemCount, hasCheckmarks = _a.hasCheckmarks, hasIcons = _a.hasIcons, _b = _a.contextualMenuItemAs, ChildrenRenderer = _b === void 0 ? ContextualMenuItem : _b, expandedMenuItemKey = _a.expandedMenuItemKey, onItemMouseDown = _a.onItemMouseDown, onItemClick = _a.onItemClick, openSubMenu = _a.openSubMenu, dismissSubMenu = _a.dismissSubMenu, dismissMenu = _a.dismissMenu;\n        var isChecked = getIsChecked(item);\n        var canCheck = isChecked !== null;\n        var defaultRole = getMenuItemAriaRole(item);\n        var itemHasSubmenu = hasSubmenu(item);\n        var itemProps = item.itemProps, ariaLabel = item.ariaLabel, ariaDescription = item.ariaDescription;\n        var buttonNativeProperties = getNativeProps(item, buttonProperties);\n        // Do not add the disabled attribute to the button so that it is focusable\n        delete buttonNativeProperties.disabled;\n        var itemRole = item.role || defaultRole;\n        // Check for ariaDescription to set the _ariaDescriptionId and render a hidden span with\n        // the description in it to be added to ariaDescribedBy\n        if (ariaDescription) {\n            this._ariaDescriptionId = getId();\n        }\n        var ariaDescribedByIds = mergeAriaAttributeValues(item.ariaDescribedBy, ariaDescription ? this._ariaDescriptionId : undefined, buttonNativeProperties['aria-describedby']);\n        var itemButtonProperties = {\n            className: classNames.root,\n            onClick: this._onItemClick,\n            onKeyDown: itemHasSubmenu ? this._onItemKeyDown : undefined,\n            onMouseEnter: this._onItemMouseEnter,\n            onMouseLeave: this._onItemMouseLeave,\n            onMouseDown: function (ev) {\n                return onItemMouseDown ? onItemMouseDown(item, ev) : undefined;\n            },\n            onMouseMove: this._onItemMouseMove,\n            href: item.href,\n            title: item.title,\n            'aria-label': ariaLabel,\n            'aria-describedby': ariaDescribedByIds,\n            'aria-haspopup': itemHasSubmenu || undefined,\n            'aria-expanded': itemHasSubmenu ? item.key === expandedMenuItemKey : undefined,\n            'aria-posinset': focusableElementIndex + 1,\n            'aria-setsize': totalItemCount,\n            'aria-disabled': isItemDisabled(item),\n            'aria-checked': (itemRole === 'menuitemcheckbox' || itemRole === 'menuitemradio') && canCheck ? !!isChecked : undefined,\n            'aria-selected': itemRole === 'menuitem' && canCheck ? !!isChecked : undefined,\n            role: itemRole,\n            // eslint-disable-next-line deprecation/deprecation\n            style: item.style,\n        };\n        var keytipProps = item.keytipProps;\n        if (keytipProps && itemHasSubmenu) {\n            keytipProps = this._getMemoizedMenuButtonKeytipProps(keytipProps);\n        }\n        return (React.createElement(KeytipData, { keytipProps: keytipProps, ariaDescribedBy: ariaDescribedByIds, disabled: isItemDisabled(item) }, function (keytipAttributes) { return (React.createElement(\"button\", __assign({ ref: _this._btn }, buttonNativeProperties, itemButtonProperties, keytipAttributes),\n            React.createElement(ChildrenRenderer, __assign({ componentRef: item.componentRef, item: item, classNames: classNames, index: index, onCheckmarkClick: hasCheckmarks && onItemClick ? onItemClick : undefined, hasIcons: hasIcons, openSubMenu: openSubMenu, dismissSubMenu: dismissSubMenu, dismissMenu: dismissMenu, getSubmenuTarget: _this._getSubmenuTarget }, itemProps)),\n            _this._renderAriaDescription(ariaDescription, classNames.screenReaderText))); }));\n    };\n    return ContextualMenuButton;\n}(ContextualMenuItemWrapper));\nexport { ContextualMenuButton };\n//# sourceMappingURL=ContextualMenuButton.js.map","import * as React from 'react';\nimport { classNamesFunction } from '../../Utilities';\nvar getClassNames = classNamesFunction();\nexport var VerticalDividerBase = React.forwardRef(function (props, ref) {\n    // eslint-disable-next-line deprecation/deprecation\n    var styles = props.styles, theme = props.theme, deprecatedGetClassNames = props.getClassNames, className = props.className;\n    var classNames = getClassNames(styles, { theme: theme, getClassNames: deprecatedGetClassNames, className: className });\n    return (React.createElement(\"span\", { className: classNames.wrapper, ref: ref },\n        React.createElement(\"span\", { className: classNames.divider })));\n});\nVerticalDividerBase.displayName = 'VerticalDividerBase';\n//# sourceMappingURL=VerticalDivider.base.js.map","import { getStyles } from './VerticalDivider.styles';\nimport { VerticalDividerBase } from './VerticalDivider.base';\nimport { styled } from '../../Utilities';\nexport var VerticalDivider = styled(VerticalDividerBase, getStyles, undefined, {\n    scope: 'VerticalDivider',\n});\n//# sourceMappingURL=VerticalDivider.js.map","export var getStyles = function (props) {\n    // eslint-disable-next-line deprecation/deprecation\n    var theme = props.theme, getClassNames = props.getClassNames, className = props.className;\n    if (!theme) {\n        throw new Error('Theme is undefined or null.');\n    }\n    if (getClassNames) {\n        var names = getClassNames(theme);\n        return {\n            wrapper: [names.wrapper],\n            divider: [names.divider],\n        };\n    }\n    return {\n        wrapper: [\n            {\n                display: 'inline-flex',\n                height: '100%',\n                alignItems: 'center',\n            },\n            className,\n        ],\n        divider: [\n            {\n                width: 1,\n                height: '100%',\n                backgroundColor: theme.palette.neutralTertiaryAlt,\n            },\n        ],\n    };\n};\n//# sourceMappingURL=VerticalDivider.styles.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { buttonProperties, getNativeProps, KeyCodes, mergeAriaAttributeValues, memoizeFunction, Async, EventGroup, getId, } from '../../../Utilities';\nimport { ContextualMenuItem } from '../ContextualMenuItem';\nimport { getSplitButtonVerticalDividerClassNames } from '../ContextualMenu.classNames';\nimport { KeytipData } from '../../../KeytipData';\nimport { isItemDisabled, hasSubmenu, getMenuItemAriaRole } from '../../../utilities/contextualMenu/index';\nimport { VerticalDivider } from '../../../Divider';\nimport { ContextualMenuItemWrapper } from './ContextualMenuItemWrapper';\nvar TouchIdleDelay = 500; /* ms */\nvar ContextualMenuSplitButton = /** @class */ (function (_super) {\n    __extends(ContextualMenuSplitButton, _super);\n    function ContextualMenuSplitButton(props) {\n        var _this = _super.call(this, props) || this;\n        _this._getMemoizedMenuButtonKeytipProps = memoizeFunction(function (keytipProps) {\n            return __assign(__assign({}, keytipProps), { hasMenu: true });\n        });\n        _this._onItemKeyDown = function (ev) {\n            var _a = _this.props, item = _a.item, onItemKeyDown = _a.onItemKeyDown;\n            // eslint-disable-next-line deprecation/deprecation\n            if (ev.which === KeyCodes.enter) {\n                _this._executeItemClick(ev);\n                ev.preventDefault();\n                ev.stopPropagation();\n            }\n            else if (onItemKeyDown) {\n                onItemKeyDown(item, ev);\n            }\n        };\n        _this._getSubmenuTarget = function () {\n            return _this._splitButton;\n        };\n        _this._renderAriaDescription = function (ariaDescription, className) {\n            // If ariaDescription is given, descriptionId will be assigned to ariaDescriptionSpan\n            return ariaDescription ? (React.createElement(\"span\", { id: _this._ariaDescriptionId, className: className }, ariaDescription)) : null;\n        };\n        _this._onItemMouseEnterPrimary = function (ev) {\n            var _a = _this.props, item = _a.item, onItemMouseEnter = _a.onItemMouseEnter;\n            if (onItemMouseEnter) {\n                onItemMouseEnter(__assign(__assign({}, item), { subMenuProps: undefined, items: undefined }), ev, _this._splitButton);\n            }\n        };\n        _this._onItemMouseEnterIcon = function (ev) {\n            var _a = _this.props, item = _a.item, onItemMouseEnter = _a.onItemMouseEnter;\n            if (onItemMouseEnter) {\n                onItemMouseEnter(item, ev, _this._splitButton);\n            }\n        };\n        _this._onItemMouseMovePrimary = function (ev) {\n            var _a = _this.props, item = _a.item, onItemMouseMove = _a.onItemMouseMove;\n            if (onItemMouseMove) {\n                onItemMouseMove(__assign(__assign({}, item), { subMenuProps: undefined, items: undefined }), ev, _this._splitButton);\n            }\n        };\n        _this._onItemMouseMoveIcon = function (ev) {\n            var _a = _this.props, item = _a.item, onItemMouseMove = _a.onItemMouseMove;\n            if (onItemMouseMove) {\n                onItemMouseMove(item, ev, _this._splitButton);\n            }\n        };\n        _this._onIconItemClick = function (ev) {\n            var _a = _this.props, item = _a.item, onItemClickBase = _a.onItemClickBase;\n            if (onItemClickBase) {\n                onItemClickBase(item, ev, (_this._splitButton ? _this._splitButton : ev.currentTarget));\n            }\n        };\n        _this._executeItemClick = function (ev) {\n            var _a = _this.props, item = _a.item, executeItemClick = _a.executeItemClick, onItemClick = _a.onItemClick;\n            if (item.disabled || item.isDisabled) {\n                return;\n            }\n            if (_this._processingTouch && onItemClick) {\n                return onItemClick(item, ev);\n            }\n            if (executeItemClick) {\n                executeItemClick(item, ev);\n            }\n        };\n        _this._onTouchStart = function (ev) {\n            if (_this._splitButton && !('onpointerdown' in _this._splitButton)) {\n                _this._handleTouchAndPointerEvent(ev);\n            }\n        };\n        _this._onPointerDown = function (ev) {\n            if (ev.pointerType === 'touch') {\n                _this._handleTouchAndPointerEvent(ev);\n                ev.preventDefault();\n                ev.stopImmediatePropagation();\n            }\n        };\n        _this._async = new Async(_this);\n        _this._events = new EventGroup(_this);\n        return _this;\n    }\n    ContextualMenuSplitButton.prototype.componentDidMount = function () {\n        if (this._splitButton && 'onpointerdown' in this._splitButton) {\n            this._events.on(this._splitButton, 'pointerdown', this._onPointerDown, true);\n        }\n    };\n    ContextualMenuSplitButton.prototype.componentWillUnmount = function () {\n        this._async.dispose();\n        this._events.dispose();\n    };\n    ContextualMenuSplitButton.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, item = _a.item, classNames = _a.classNames, index = _a.index, focusableElementIndex = _a.focusableElementIndex, totalItemCount = _a.totalItemCount, hasCheckmarks = _a.hasCheckmarks, hasIcons = _a.hasIcons, onItemMouseLeave = _a.onItemMouseLeave, expandedMenuItemKey = _a.expandedMenuItemKey;\n        var itemHasSubmenu = hasSubmenu(item);\n        var keytipProps = item.keytipProps;\n        if (keytipProps) {\n            keytipProps = this._getMemoizedMenuButtonKeytipProps(keytipProps);\n        }\n        // Check for ariaDescription to set the _ariaDescriptionId and render a hidden span with\n        // the description in it to be added to ariaDescribedBy\n        var ariaDescription = item.ariaDescription;\n        if (ariaDescription) {\n            this._ariaDescriptionId = getId();\n        }\n        return (React.createElement(KeytipData, { keytipProps: keytipProps, disabled: isItemDisabled(item) }, function (keytipAttributes) { return (React.createElement(\"div\", { \"data-ktp-target\": keytipAttributes['data-ktp-target'], ref: function (splitButton) { return (_this._splitButton = splitButton); }, role: getMenuItemAriaRole(item), \"aria-label\": item.ariaLabel, className: classNames.splitContainer, \"aria-disabled\": isItemDisabled(item), \"aria-expanded\": itemHasSubmenu ? item.key === expandedMenuItemKey : undefined, \"aria-haspopup\": true, \"aria-describedby\": mergeAriaAttributeValues(item.ariaDescribedBy, ariaDescription ? _this._ariaDescriptionId : undefined, keytipAttributes['aria-describedby']), \"aria-checked\": item.isChecked || item.checked, \"aria-posinset\": focusableElementIndex + 1, \"aria-setsize\": totalItemCount, onMouseEnter: _this._onItemMouseEnterPrimary, onMouseLeave: onItemMouseLeave ? onItemMouseLeave.bind(_this, __assign(__assign({}, item), { subMenuProps: null, items: null })) : undefined, onMouseMove: _this._onItemMouseMovePrimary, onKeyDown: _this._onItemKeyDown, onClick: _this._executeItemClick, onTouchStart: _this._onTouchStart, tabIndex: 0, \"data-is-focusable\": true, \"aria-roledescription\": item['aria-roledescription'] },\n            _this._renderSplitPrimaryButton(item, classNames, index, hasCheckmarks, hasIcons),\n            _this._renderSplitDivider(item),\n            _this._renderSplitIconButton(item, classNames, index, keytipAttributes),\n            _this._renderAriaDescription(ariaDescription, classNames.screenReaderText))); }));\n    };\n    ContextualMenuSplitButton.prototype._renderSplitPrimaryButton = function (item, \n    // eslint-disable-next-line deprecation/deprecation\n    classNames, index, hasCheckmarks, hasIcons) {\n        var _a = this.props, _b = _a.contextualMenuItemAs, ChildrenRenderer = _b === void 0 ? ContextualMenuItem : _b, onItemClick = _a.onItemClick;\n        var itemProps = {\n            key: item.key,\n            disabled: isItemDisabled(item) || item.primaryDisabled,\n            /* eslint-disable deprecation/deprecation */\n            name: item.name,\n            text: item.text || item.name,\n            secondaryText: item.secondaryText,\n            /* eslint-enable deprecation/deprecation */\n            className: classNames.splitPrimary,\n            canCheck: item.canCheck,\n            isChecked: item.isChecked,\n            checked: item.checked,\n            iconProps: item.iconProps,\n            onRenderIcon: item.onRenderIcon,\n            data: item.data,\n            'data-is-focusable': false,\n        };\n        var itemComponentProps = item.itemProps;\n        return (React.createElement(\"button\", __assign({}, getNativeProps(itemProps, buttonProperties)),\n            React.createElement(ChildrenRenderer, __assign({ \"data-is-focusable\": false, item: itemProps, classNames: classNames, index: index, onCheckmarkClick: hasCheckmarks && onItemClick ? onItemClick : undefined, hasIcons: hasIcons }, itemComponentProps))));\n    };\n    ContextualMenuSplitButton.prototype._renderSplitDivider = function (item) {\n        var getDividerClassNames = item.getSplitButtonVerticalDividerClassNames || getSplitButtonVerticalDividerClassNames;\n        return React.createElement(VerticalDivider, { getClassNames: getDividerClassNames });\n    };\n    ContextualMenuSplitButton.prototype._renderSplitIconButton = function (item, classNames, // eslint-disable-line deprecation/deprecation\n    index, keytipAttributes) {\n        var _a = this.props, _b = _a.contextualMenuItemAs, ChildrenRenderer = _b === void 0 ? ContextualMenuItem : _b, onItemMouseLeave = _a.onItemMouseLeave, onItemMouseDown = _a.onItemMouseDown, openSubMenu = _a.openSubMenu, dismissSubMenu = _a.dismissSubMenu, dismissMenu = _a.dismissMenu;\n        var itemProps = {\n            onClick: this._onIconItemClick,\n            disabled: isItemDisabled(item),\n            className: classNames.splitMenu,\n            subMenuProps: item.subMenuProps,\n            submenuIconProps: item.submenuIconProps,\n            split: true,\n            key: item.key,\n        };\n        var buttonProps = __assign(__assign({}, getNativeProps(itemProps, buttonProperties)), {\n            onMouseEnter: this._onItemMouseEnterIcon,\n            onMouseLeave: onItemMouseLeave ? onItemMouseLeave.bind(this, item) : undefined,\n            onMouseDown: function (ev) {\n                return onItemMouseDown ? onItemMouseDown(item, ev) : undefined;\n            },\n            onMouseMove: this._onItemMouseMoveIcon,\n            'data-is-focusable': false,\n            'data-ktp-execute-target': keytipAttributes['data-ktp-execute-target'],\n            'aria-hidden': true,\n        });\n        var itemComponentProps = item.itemProps;\n        return (React.createElement(\"button\", __assign({}, buttonProps),\n            React.createElement(ChildrenRenderer, __assign({ componentRef: item.componentRef, item: itemProps, classNames: classNames, index: index, hasIcons: false, openSubMenu: openSubMenu, dismissSubMenu: dismissSubMenu, dismissMenu: dismissMenu, getSubmenuTarget: this._getSubmenuTarget }, itemComponentProps))));\n    };\n    ContextualMenuSplitButton.prototype._handleTouchAndPointerEvent = function (ev) {\n        var _this = this;\n        var onTap = this.props.onTap;\n        if (onTap) {\n            onTap(ev);\n        }\n        // If we already have an existing timeout from a previous touch/pointer event\n        // cancel that timeout so we can set a new one.\n        if (this._lastTouchTimeoutId) {\n            this._async.clearTimeout(this._lastTouchTimeoutId);\n            this._lastTouchTimeoutId = undefined;\n        }\n        this._processingTouch = true;\n        this._lastTouchTimeoutId = this._async.setTimeout(function () {\n            _this._processingTouch = false;\n            _this._lastTouchTimeoutId = undefined;\n        }, TouchIdleDelay);\n    };\n    return ContextualMenuSplitButton;\n}(ContextualMenuItemWrapper));\nexport { ContextualMenuSplitButton };\n//# sourceMappingURL=ContextualMenuSplitButton.js.map","import * as React from 'react';\nexport var MenuContext = React.createContext({});\nexport var useMenuContext = function () {\n    return React.useContext(MenuContext);\n};\n//# sourceMappingURL=MenuContext.js.map","import { __assign, __extends, __rest, __spreadArrays } from \"tslib\";\nimport * as React from 'react';\nimport { ContextualMenuItemType, } from './ContextualMenu.types';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { FocusZone, FocusZoneDirection, FocusZoneTabbableElements } from '../../FocusZone';\nimport { divProperties, getNativeProps, shallowCompare, warnDeprecations, Async, EventGroup, assign, classNamesFunction, css, getFirstFocusable, getId, getLastFocusable, getRTL, KeyCodes, shouldWrapFocus, isIOS, isMac, initializeComponentRef, memoizeFunction, getPropsWithDefaults, getDocument, } from '../../Utilities';\nimport { hasSubmenu, getIsChecked, isItemDisabled } from '../../utilities/contextualMenu/index';\nimport { Callout } from '../../Callout';\nimport { ContextualMenuItem } from './ContextualMenuItem';\nimport { ContextualMenuSplitButton, ContextualMenuButton, ContextualMenuAnchor, } from './ContextualMenuItemWrapper/index';\nimport { concatStyleSetsWithProps } from '../../Styling';\nimport { getItemStyles } from './ContextualMenu.classNames';\nimport { useTarget, usePrevious } from '@fluentui/react-hooks';\nimport { useResponsiveMode, ResponsiveMode } from '../../ResponsiveMode';\nimport { MenuContext } from '../../utilities/MenuContext/index';\nvar getClassNames = classNamesFunction();\nvar getContextualMenuItemClassNames = classNamesFunction();\n// The default ContextualMenu properties have no items and beak, the default submenu direction is right and top.\nvar DEFAULT_PROPS = {\n    items: [],\n    shouldFocusOnMount: true,\n    gapSpace: 0,\n    directionalHint: DirectionalHint.bottomAutoEdge,\n    beakWidth: 16,\n};\nexport function getSubmenuItems(item) {\n    return item.subMenuProps ? item.subMenuProps.items : item.items;\n}\n/**\n * Returns true if a list of menu items can contain a checkbox\n */\nexport function canAnyMenuItemsCheck(items) {\n    return items.some(function (item) {\n        if (item.canCheck) {\n            return true;\n        }\n        // If the item is a section, check if any of the items in the section can check.\n        if (item.sectionProps && item.sectionProps.items.some(function (submenuItem) { return submenuItem.canCheck === true; })) {\n            return true;\n        }\n        return false;\n    });\n}\nvar NavigationIdleDelay = 250; /* ms */\nvar COMPONENT_NAME = 'ContextualMenu';\nvar _getMenuItemStylesFunction = memoizeFunction(function () {\n    var styles = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        styles[_i] = arguments[_i];\n    }\n    return function (styleProps) {\n        return concatStyleSetsWithProps.apply(void 0, __spreadArrays([styleProps, getItemStyles], styles));\n    };\n});\nfunction useVisibility(props, targetWindow) {\n    var _a = props.hidden, hidden = _a === void 0 ? false : _a, onMenuDismissed = props.onMenuDismissed, onMenuOpened = props.onMenuOpened;\n    var previousHidden = usePrevious(hidden);\n    var onMenuOpenedRef = React.useRef(onMenuOpened);\n    var onMenuClosedRef = React.useRef(onMenuDismissed);\n    var propsRef = React.useRef(props);\n    onMenuOpenedRef.current = onMenuOpened;\n    onMenuClosedRef.current = onMenuDismissed;\n    propsRef.current = props;\n    React.useEffect(function () {\n        var _a, _b;\n        // Don't issue dismissed callbacks on initial mount\n        if (hidden && previousHidden === false) {\n            (_a = onMenuClosedRef.current) === null || _a === void 0 ? void 0 : _a.call(onMenuClosedRef, propsRef.current);\n        }\n        else if (!hidden && previousHidden !== false) {\n            (_b = onMenuOpenedRef.current) === null || _b === void 0 ? void 0 : _b.call(onMenuOpenedRef, propsRef.current);\n        }\n    }, [hidden, previousHidden]);\n    // Issue onDismissedCallback on unmount\n    React.useEffect(function () { return function () { var _a; return (_a = onMenuClosedRef.current) === null || _a === void 0 ? void 0 : _a.call(onMenuClosedRef, propsRef.current); }; }, []);\n}\nfunction useSubMenuState(_a) {\n    var hidden = _a.hidden;\n    var _b = React.useState(), expandedMenuItemKey = _b[0], setExpandedMenuItemKey = _b[1];\n    var _c = React.useState(), submenuTarget = _c[0], setSubmenuTarget = _c[1];\n    /** True if the menu was expanded by mouse click OR hover (as opposed to by keyboard) */\n    var _d = React.useState(), expandedByMouseClick = _d[0], setExpandedByMouseClick = _d[1];\n    var closeSubMenu = React.useCallback(function () {\n        setExpandedByMouseClick(undefined);\n        setExpandedMenuItemKey(undefined);\n        setSubmenuTarget(undefined);\n    }, []);\n    var openSubMenu = React.useCallback(function (_a, target, openedByMouseClick) {\n        var submenuItemKey = _a.key;\n        if (expandedMenuItemKey === submenuItemKey) {\n            return;\n        }\n        target.focus();\n        setExpandedByMouseClick(openedByMouseClick);\n        setExpandedMenuItemKey(submenuItemKey);\n        setSubmenuTarget(target);\n    }, [expandedMenuItemKey]);\n    React.useEffect(function () {\n        if (hidden) {\n            closeSubMenu();\n        }\n    }, [hidden, closeSubMenu]);\n    return [expandedMenuItemKey, submenuTarget, expandedByMouseClick, openSubMenu, closeSubMenu];\n}\nfunction useShouldUpdateFocusOnMouseMove(_a) {\n    var delayUpdateFocusOnHover = _a.delayUpdateFocusOnHover, hidden = _a.hidden;\n    var shouldUpdateFocusOnMouseEvent = React.useRef(!delayUpdateFocusOnHover);\n    var gotMouseMove = React.useRef(false);\n    React.useEffect(function () {\n        shouldUpdateFocusOnMouseEvent.current = !delayUpdateFocusOnHover;\n        gotMouseMove.current = hidden ? false : !delayUpdateFocusOnHover && gotMouseMove.current;\n    }, [delayUpdateFocusOnHover, hidden]);\n    var onMenuFocusCapture = React.useCallback(function () {\n        if (delayUpdateFocusOnHover) {\n            shouldUpdateFocusOnMouseEvent.current = true;\n        }\n    }, [delayUpdateFocusOnHover]);\n    return [shouldUpdateFocusOnMouseEvent, gotMouseMove, onMenuFocusCapture];\n}\nexport var ContextualMenuBase = React.forwardRef(function (propsWithoutDefaults, forwardedRef) {\n    var _a = getPropsWithDefaults(DEFAULT_PROPS, propsWithoutDefaults), ref = _a.ref, props = __rest(_a, [\"ref\"]);\n    var hostElement = React.useRef(null);\n    var _b = useTarget(props.target, hostElement), targetRef = _b[0], targetWindow = _b[1];\n    var _c = useSubMenuState(props), expandedMenuItemKey = _c[0], submenuTarget = _c[1], expandedByMouseClick = _c[2], openSubMenu = _c[3], closeSubMenu = _c[4];\n    var _d = useShouldUpdateFocusOnMouseMove(props), shouldUpdateFocusOnMouseEvent = _d[0], gotMouseMove = _d[1], onMenuFocusCapture = _d[2];\n    var responsiveMode = useResponsiveMode(hostElement, props.responsiveMode);\n    useVisibility(props, targetWindow);\n    return (React.createElement(ContextualMenuInternal, __assign({}, props, { hoisted: {\n            hostElement: hostElement,\n            forwardedRef: forwardedRef,\n            targetRef: targetRef,\n            targetWindow: targetWindow,\n            expandedMenuItemKey: expandedMenuItemKey,\n            submenuTarget: submenuTarget,\n            expandedByMouseClick: expandedByMouseClick,\n            openSubMenu: openSubMenu,\n            closeSubMenu: closeSubMenu,\n            shouldUpdateFocusOnMouseEvent: shouldUpdateFocusOnMouseEvent,\n            gotMouseMove: gotMouseMove,\n            onMenuFocusCapture: onMenuFocusCapture,\n        }, responsiveMode: responsiveMode })));\n});\nContextualMenuBase.displayName = 'ContextualMenuBase';\nvar ContextualMenuInternal = /** @class */ (function (_super) {\n    __extends(ContextualMenuInternal, _super);\n    function ContextualMenuInternal(props) {\n        var _this = _super.call(this, props) || this;\n        _this._mounted = false;\n        _this.dismiss = function (ev, dismissAll) {\n            var onDismiss = _this.props.onDismiss;\n            if (onDismiss) {\n                onDismiss(ev, dismissAll);\n            }\n        };\n        _this._tryFocusPreviousActiveElement = function (options) {\n            var _a, _b;\n            if (_this.props.onRestoreFocus) {\n                _this.props.onRestoreFocus(options);\n            }\n            else if (options && options.documentContainsFocus && _this._previousActiveElement) {\n                // Make sure that the focus method actually exists\n                // In some cases the object might exist but not be a real element.\n                // This is primarily for IE 11 and should be removed once IE 11 is no longer in use.\n                (_b = (_a = _this._previousActiveElement).focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n            }\n        };\n        _this._onRenderMenuList = function (menuListProps, defaultRender) {\n            var indexCorrection = 0;\n            var items = menuListProps.items, totalItemCount = menuListProps.totalItemCount, hasCheckmarks = menuListProps.hasCheckmarks, hasIcons = menuListProps.hasIcons;\n            return (React.createElement(\"ul\", { className: _this._classNames.list, onKeyDown: _this._onKeyDown, onKeyUp: _this._onKeyUp, role: 'presentation' }, items.map(function (item, index) {\n                var menuItem = _this._renderMenuItem(item, index, indexCorrection, totalItemCount, hasCheckmarks, hasIcons);\n                if (item.itemType !== ContextualMenuItemType.Divider && item.itemType !== ContextualMenuItemType.Header) {\n                    var indexIncrease = item.customOnRenderListLength ? item.customOnRenderListLength : 1;\n                    indexCorrection += indexIncrease;\n                }\n                return menuItem;\n            })));\n        };\n        /**\n         * !!!IMPORTANT!!! Avoid mutating `item: IContextualMenuItem` argument. It will\n         * cause the menu items to always re-render because the component update is based on shallow comparison.\n         */\n        _this._renderMenuItem = function (item, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons) {\n            var _a;\n            var renderedItems = [];\n            var iconProps = item.iconProps || { iconName: 'None' };\n            var getItemClassNames = item.getItemClassNames, // eslint-disable-line deprecation/deprecation\n            itemProps = item.itemProps;\n            var styles = itemProps ? itemProps.styles : undefined;\n            var expandedMenuItemKey = _this.props.hoisted.expandedMenuItemKey;\n            // We only send a dividerClassName when the item to be rendered is a divider.\n            // For all other cases, the default divider style is used.\n            var dividerClassName = item.itemType === ContextualMenuItemType.Divider ? item.className : undefined;\n            var subMenuIconClassName = item.submenuIconProps ? item.submenuIconProps.className : '';\n            // eslint-disable-next-line deprecation/deprecation\n            var itemClassNames;\n            // IContextualMenuItem#getItemClassNames for backwards compatibility\n            // otherwise uses mergeStyles for class names.\n            if (getItemClassNames) {\n                itemClassNames = getItemClassNames(_this.props.theme, isItemDisabled(item), expandedMenuItemKey === item.key, !!getIsChecked(item), !!item.href, iconProps.iconName !== 'None', item.className, dividerClassName, iconProps.className, subMenuIconClassName, item.primaryDisabled);\n            }\n            else {\n                var itemStyleProps = {\n                    theme: _this.props.theme,\n                    disabled: isItemDisabled(item),\n                    expanded: expandedMenuItemKey === item.key,\n                    checked: !!getIsChecked(item),\n                    isAnchorLink: !!item.href,\n                    knownIcon: iconProps.iconName !== 'None',\n                    itemClassName: item.className,\n                    dividerClassName: dividerClassName,\n                    iconClassName: iconProps.className,\n                    subMenuClassName: subMenuIconClassName,\n                    primaryDisabled: item.primaryDisabled,\n                };\n                // We need to generate default styles then override if styles are provided\n                // since the ContextualMenu currently handles item classNames.\n                itemClassNames = getContextualMenuItemClassNames(_getMenuItemStylesFunction((_a = _this._classNames.subComponentStyles) === null || _a === void 0 ? void 0 : _a.menuItem, styles), itemStyleProps);\n            }\n            // eslint-disable-next-line deprecation/deprecation\n            if (item.text === '-' || item.name === '-') {\n                item.itemType = ContextualMenuItemType.Divider;\n            }\n            switch (item.itemType) {\n                case ContextualMenuItemType.Divider:\n                    renderedItems.push(_this._renderSeparator(index, itemClassNames));\n                    break;\n                case ContextualMenuItemType.Header:\n                    renderedItems.push(_this._renderSeparator(index, itemClassNames));\n                    var headerItem = _this._renderHeaderMenuItem(item, itemClassNames, index, hasCheckmarks, hasIcons);\n                    renderedItems.push(_this._renderListItem(headerItem, item.key || index, itemClassNames, item.title));\n                    break;\n                case ContextualMenuItemType.Section:\n                    renderedItems.push(_this._renderSectionItem(item, itemClassNames, index, hasCheckmarks, hasIcons));\n                    break;\n                default:\n                    var menuItem = _this._renderNormalItem(item, itemClassNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\n                    renderedItems.push(_this._renderListItem(menuItem, item.key || index, itemClassNames, item.title));\n                    break;\n            }\n            // Since multiple nodes *could* be rendered, wrap them all in a fragment with this item's key.\n            // This ensures the reconciler handles multi-item output per-node correctly and does not re-mount content.\n            return React.createElement(React.Fragment, { key: item.key }, renderedItems);\n        };\n        _this._defaultMenuItemRenderer = function (item) {\n            var index = item.index, focusableElementIndex = item.focusableElementIndex, totalItemCount = item.totalItemCount, hasCheckmarks = item.hasCheckmarks, hasIcons = item.hasIcons;\n            return _this._renderMenuItem(item, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\n        };\n        _this._onKeyDown = function (ev) {\n            // Take note if we are processing an alt (option) or meta (command) keydown.\n            // See comment in _shouldHandleKeyUp for reasoning.\n            _this._lastKeyDownWasAltOrMeta = _this._isAltOrMeta(ev);\n            // On Mac, pressing escape dismisses all levels of native context menus\n            // eslint-disable-next-line deprecation/deprecation\n            var dismissAllMenus = ev.which === KeyCodes.escape && (isMac() || isIOS());\n            return _this._keyHandler(ev, _this._shouldHandleKeyDown, dismissAllMenus);\n        };\n        _this._shouldHandleKeyDown = function (ev) {\n            return (\n            // eslint-disable-next-line deprecation/deprecation\n            ev.which === KeyCodes.escape ||\n                _this._shouldCloseSubMenu(ev) ||\n                // eslint-disable-next-line deprecation/deprecation\n                (ev.which === KeyCodes.up && (ev.altKey || ev.metaKey)));\n        };\n        _this._onKeyUp = function (ev) {\n            return _this._keyHandler(ev, _this._shouldHandleKeyUp, true /* dismissAllMenus */);\n        };\n        /**\n         * We close the menu on key up only if ALL of the following are true:\n         * - Most recent key down was alt or meta (command)\n         * - The alt/meta key down was NOT followed by some other key (such as down/up arrow to\n         *   expand/collapse the menu)\n         * - We're not on a Mac (or iOS)\n         *\n         * This is because on Windows, pressing alt moves focus to the application menu bar or similar,\n         * closing any open context menus. There is not a similar behavior on Macs.\n         */\n        _this._shouldHandleKeyUp = function (ev) {\n            var keyPressIsAltOrMetaAlone = _this._lastKeyDownWasAltOrMeta && _this._isAltOrMeta(ev);\n            _this._lastKeyDownWasAltOrMeta = false;\n            return !!keyPressIsAltOrMetaAlone && !(isIOS() || isMac());\n        };\n        /**\n         * Calls `shouldHandleKey` to determine whether the keyboard event should be handled;\n         * if so, stops event propagation and dismisses menu(s).\n         * @param ev - The keyboard event.\n         * @param shouldHandleKey - Returns whether we should handle this keyboard event.\n         * @param dismissAllMenus - If true, dismiss all menus. Otherwise, dismiss only the current menu.\n         * Only does anything if `shouldHandleKey` returns true.\n         * @returns Whether the event was handled.\n         */\n        _this._keyHandler = function (ev, shouldHandleKey, dismissAllMenus) {\n            var handled = false;\n            if (shouldHandleKey(ev)) {\n                _this.dismiss(ev, dismissAllMenus);\n                ev.preventDefault();\n                ev.stopPropagation();\n                handled = true;\n            }\n            return handled;\n        };\n        /**\n         * Checks if the submenu should be closed\n         */\n        _this._shouldCloseSubMenu = function (ev) {\n            var submenuCloseKey = getRTL(_this.props.theme) ? KeyCodes.right : KeyCodes.left;\n            // eslint-disable-next-line deprecation/deprecation\n            if (ev.which !== submenuCloseKey || !_this.props.isSubMenu) {\n                return false;\n            }\n            return (_this._adjustedFocusZoneProps.direction === FocusZoneDirection.vertical ||\n                (!!_this._adjustedFocusZoneProps.checkForNoWrap &&\n                    !shouldWrapFocus(ev.target, 'data-no-horizontal-wrap')));\n        };\n        _this._onMenuKeyDown = function (ev) {\n            // Mark as handled if onKeyDown returns true (for handling collapse cases)\n            // or if we are attempting to expand a submenu\n            var handled = _this._onKeyDown(ev);\n            var hostElement = _this.props.hoisted.hostElement;\n            if (handled || !hostElement.current) {\n                return;\n            }\n            // If we have a modifier key being pressed, we do not want to move focus.\n            // Otherwise, handle up and down keys.\n            var hasModifier = !!(ev.altKey || ev.metaKey);\n            // eslint-disable-next-line deprecation/deprecation\n            var isUp = ev.which === KeyCodes.up;\n            // eslint-disable-next-line deprecation/deprecation\n            var isDown = ev.which === KeyCodes.down;\n            if (!hasModifier && (isUp || isDown)) {\n                var elementToFocus = isUp\n                    ? getLastFocusable(hostElement.current, hostElement.current.lastChild, true)\n                    : getFirstFocusable(hostElement.current, hostElement.current.firstChild, true);\n                if (elementToFocus) {\n                    elementToFocus.focus();\n                    ev.preventDefault();\n                    ev.stopPropagation();\n                }\n            }\n        };\n        /**\n         * Scroll handler for the callout to make sure the mouse events\n         * for updating focus are not interacting during scroll\n         */\n        _this._onScroll = function () {\n            if (!_this._isScrollIdle && _this._scrollIdleTimeoutId !== undefined) {\n                _this._async.clearTimeout(_this._scrollIdleTimeoutId);\n                _this._scrollIdleTimeoutId = undefined;\n            }\n            else {\n                _this._isScrollIdle = false;\n            }\n            _this._scrollIdleTimeoutId = _this._async.setTimeout(function () {\n                _this._isScrollIdle = true;\n            }, NavigationIdleDelay);\n        };\n        _this._onItemMouseEnterBase = function (item, ev, target) {\n            if (_this._shouldIgnoreMouseEvent()) {\n                return;\n            }\n            _this._updateFocusOnMouseEvent(item, ev, target);\n        };\n        _this._onItemMouseMoveBase = function (item, ev, target) {\n            var targetElement = ev.currentTarget;\n            var _a = _this.props.hoisted, shouldUpdateFocusOnMouseEvent = _a.shouldUpdateFocusOnMouseEvent, gotMouseMove = _a.gotMouseMove, targetWindow = _a.targetWindow;\n            // Always do this check to make sure we record a mouseMove if needed (even if we are timed out)\n            if (shouldUpdateFocusOnMouseEvent.current) {\n                gotMouseMove.current = true;\n            }\n            else {\n                return;\n            }\n            if (!_this._isScrollIdle ||\n                _this._enterTimerId !== undefined ||\n                targetElement === (targetWindow === null || targetWindow === void 0 ? void 0 : targetWindow.document.activeElement)) {\n                return;\n            }\n            _this._updateFocusOnMouseEvent(item, ev, target);\n        };\n        _this._onMouseItemLeave = function (item, ev) {\n            var _a;\n            var _b = _this.props.hoisted, expandedMenuItemKey = _b.expandedMenuItemKey, hostElement = _b.hostElement;\n            if (_this._shouldIgnoreMouseEvent()) {\n                return;\n            }\n            if (_this._enterTimerId !== undefined) {\n                _this._async.clearTimeout(_this._enterTimerId);\n                _this._enterTimerId = undefined;\n            }\n            if (expandedMenuItemKey !== undefined) {\n                return;\n            }\n            /**\n             * IE11 focus() method forces parents to scroll to top of element.\n             * Edge and IE expose a setActive() function for focusable divs that\n             * sets the page focus but does not scroll the parent element.\n             */\n            if (hostElement.current.setActive) {\n                try {\n                    hostElement.current.setActive();\n                }\n                catch (e) {\n                    /* no-op */\n                }\n            }\n            else {\n                (_a = hostElement.current) === null || _a === void 0 ? void 0 : _a.focus();\n            }\n        };\n        _this._onItemMouseDown = function (item, ev) {\n            if (item.onMouseDown) {\n                item.onMouseDown(item, ev);\n            }\n        };\n        _this._onItemClick = function (item, ev) {\n            _this._onItemClickBase(item, ev, ev.currentTarget);\n        };\n        _this._onItemClickBase = function (item, ev, target) {\n            var items = getSubmenuItems(item);\n            var _a = _this.props.hoisted, expandedMenuItemKey = _a.expandedMenuItemKey, openSubMenu = _a.openSubMenu;\n            // Cancel a async menu item hover timeout action from being taken and instead\n            // just trigger the click event instead.\n            _this._cancelSubMenuTimer();\n            if (!hasSubmenu(item) && (!items || !items.length)) {\n                // This is an item without a menu. Click it.\n                _this._executeItemClick(item, ev);\n            }\n            else {\n                if (item.key !== expandedMenuItemKey) {\n                    // This has a collapsed sub menu. Expand it.\n                    openSubMenu(item, target, \n                    // When Edge + Narrator are used together (regardless of if the button is in a form or not), pressing\n                    // \"Enter\" fires this method and not _onMenuKeyDown. Checking ev.nativeEvent.detail differentiates\n                    // between a real click event and a keypress event (detail should be the number of mouse clicks).\n                    // ...Plot twist! For a real click event in IE 11, detail is always 0 (Edge sets it properly to 1).\n                    // So we also check the pointerType property, which both Edge and IE set to \"mouse\" for real clicks\n                    // and \"\" for pressing \"Enter\" with Narrator on.\n                    ev.nativeEvent.detail !== 0 || ev.nativeEvent.pointerType === 'mouse');\n                }\n            }\n            ev.stopPropagation();\n            ev.preventDefault();\n        };\n        _this._onAnchorClick = function (item, ev) {\n            _this._executeItemClick(item, ev);\n            ev.stopPropagation();\n        };\n        _this._executeItemClick = function (item, ev) {\n            if (item.disabled || item.isDisabled) {\n                return;\n            }\n            var dismiss = false;\n            if (item.onClick) {\n                dismiss = !!item.onClick(ev, item);\n            }\n            else if (_this.props.onItemClick) {\n                dismiss = !!_this.props.onItemClick(ev, item);\n            }\n            if (dismiss || !ev.defaultPrevented) {\n                _this.dismiss(ev, true);\n            }\n        };\n        _this._onItemKeyDown = function (item, ev) {\n            var openKey = getRTL(_this.props.theme) ? KeyCodes.left : KeyCodes.right;\n            if (!item.disabled &&\n                // eslint-disable-next-line deprecation/deprecation\n                (ev.which === openKey || ev.which === KeyCodes.enter || (ev.which === KeyCodes.down && (ev.altKey || ev.metaKey)))) {\n                _this.props.hoisted.openSubMenu(item, ev.currentTarget, false);\n                ev.preventDefault();\n            }\n        };\n        // Cancel a async menu item hover timeout action from being taken and instead\n        // do new upcoming behavior\n        _this._cancelSubMenuTimer = function () {\n            if (_this._enterTimerId !== undefined) {\n                _this._async.clearTimeout(_this._enterTimerId);\n                _this._enterTimerId = undefined;\n            }\n        };\n        /**\n         * This function is called ASYNCHRONOUSLY, and so there is a chance it is called\n         * after the component is unmounted. The _mounted property is added to prevent\n         * from calling setState() after unmount. Do NOT copy this pattern in synchronous\n         * code.\n         */\n        _this._onSubMenuDismiss = function (ev, dismissAll) {\n            if (dismissAll) {\n                _this.dismiss(ev, dismissAll);\n            }\n            else if (_this._mounted) {\n                _this.props.hoisted.closeSubMenu();\n            }\n        };\n        _this._onPointerAndTouchEvent = function (ev) {\n            _this._cancelSubMenuTimer();\n        };\n        _this._async = new Async(_this);\n        _this._events = new EventGroup(_this);\n        initializeComponentRef(_this);\n        warnDeprecations(COMPONENT_NAME, props, {\n            getMenuClassNames: 'styles',\n        });\n        _this.state = {\n            contextualMenuItems: undefined,\n            subMenuId: getId('ContextualMenu'),\n        };\n        _this._id = props.id || getId('ContextualMenu');\n        _this._isScrollIdle = true;\n        return _this;\n    }\n    ContextualMenuInternal.prototype.shouldComponentUpdate = function (newProps, newState) {\n        if (!newProps.shouldUpdateWhenHidden && this.props.hidden && newProps.hidden) {\n            // Do not update when hidden.\n            return false;\n        }\n        return !shallowCompare(this.props, newProps) || !shallowCompare(this.state, newState);\n    };\n    ContextualMenuInternal.prototype.getSnapshotBeforeUpdate = function (prevProps) {\n        var hoisted = this.props.hoisted;\n        if (this._isHidden(prevProps) !== this._isHidden(this.props)) {\n            if (this._isHidden(this.props)) {\n                this._onMenuClosed();\n            }\n            else {\n                this._previousActiveElement = hoisted.targetWindow\n                    ? hoisted.targetWindow.document.activeElement\n                    : undefined;\n            }\n        }\n        return null;\n    };\n    // Invoked once, only on the client (not on the server), immediately after the initial rendering occurs.\n    ContextualMenuInternal.prototype.componentDidMount = function () {\n        var _a = this.props, hidden = _a.hidden, hoisted = _a.hoisted;\n        if (!hidden) {\n            this._previousActiveElement = hoisted.targetWindow\n                ? hoisted.targetWindow.document.activeElement\n                : undefined;\n        }\n        this._mounted = true;\n    };\n    // Invoked immediately before a component is unmounted from the DOM.\n    ContextualMenuInternal.prototype.componentWillUnmount = function () {\n        this._events.dispose();\n        this._async.dispose();\n        this._mounted = false;\n    };\n    ContextualMenuInternal.prototype.render = function () {\n        var _this = this;\n        var isBeakVisible = this.props.isBeakVisible;\n        var _a = this.props, items = _a.items, labelElementId = _a.labelElementId, id = _a.id, className = _a.className, beakWidth = _a.beakWidth, directionalHint = _a.directionalHint, directionalHintForRTL = _a.directionalHintForRTL, alignTargetEdge = _a.alignTargetEdge, gapSpace = _a.gapSpace, coverTarget = _a.coverTarget, ariaLabel = _a.ariaLabel, doNotLayer = _a.doNotLayer, target = _a.target, bounds = _a.bounds, useTargetWidth = _a.useTargetWidth, useTargetAsMinWidth = _a.useTargetAsMinWidth, directionalHintFixed = _a.directionalHintFixed, shouldFocusOnMount = _a.shouldFocusOnMount, shouldFocusOnContainer = _a.shouldFocusOnContainer, title = _a.title, styles = _a.styles, theme = _a.theme, calloutProps = _a.calloutProps, _b = _a.onRenderSubMenu, onRenderSubMenu = _b === void 0 ? this._onRenderSubMenu : _b, _c = _a.onRenderMenuList, onRenderMenuList = _c === void 0 ? this._onRenderMenuList : _c, focusZoneProps = _a.focusZoneProps, \n        // eslint-disable-next-line deprecation/deprecation\n        getMenuClassNames = _a.getMenuClassNames, _d = _a.hoisted, expandedMenuItemKey = _d.expandedMenuItemKey, targetRef = _d.targetRef, onMenuFocusCapture = _d.onMenuFocusCapture, hostElement = _d.hostElement, forwardedRef = _d.forwardedRef;\n        this._classNames = getMenuClassNames\n            ? getMenuClassNames(theme, className)\n            : getClassNames(styles, {\n                theme: theme,\n                className: className,\n            });\n        var hasIcons = itemsHaveIcons(items);\n        function itemsHaveIcons(contextualMenuItems) {\n            for (var _i = 0, contextualMenuItems_1 = contextualMenuItems; _i < contextualMenuItems_1.length; _i++) {\n                var item = contextualMenuItems_1[_i];\n                if (item.iconProps) {\n                    return true;\n                }\n                if (item.itemType === ContextualMenuItemType.Section &&\n                    item.sectionProps &&\n                    itemsHaveIcons(item.sectionProps.items)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        this._adjustedFocusZoneProps = __assign(__assign({}, focusZoneProps), { className: this._classNames.root, isCircularNavigation: true, handleTabKey: FocusZoneTabbableElements.all, direction: this._getFocusZoneDirection() });\n        var hasCheckmarks = canAnyMenuItemsCheck(items);\n        var submenuProps = expandedMenuItemKey && this.props.hidden !== true ? this._getSubmenuProps() : null;\n        isBeakVisible = isBeakVisible === undefined ? this.props.responsiveMode <= ResponsiveMode.medium : isBeakVisible;\n        /**\n         * When useTargetWidth is true, get the width of the target element and apply it for the context menu container\n         */\n        var contextMenuStyle;\n        var targetAsHtmlElement = targetRef.current;\n        if ((useTargetWidth || useTargetAsMinWidth) && targetAsHtmlElement && targetAsHtmlElement.offsetWidth) {\n            var targetBoundingRect = targetAsHtmlElement.getBoundingClientRect();\n            var targetWidth = targetBoundingRect.width - 2; /* Accounts for 1px border */\n            if (useTargetWidth) {\n                contextMenuStyle = {\n                    width: targetWidth,\n                };\n            }\n            else if (useTargetAsMinWidth) {\n                contextMenuStyle = {\n                    minWidth: targetWidth,\n                };\n            }\n        }\n        // The menu should only return if items were provided, if no items were provided then it should not appear.\n        if (items && items.length > 0) {\n            var totalItemCount_1 = 0;\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n                var item = items_1[_i];\n                if (item.itemType !== ContextualMenuItemType.Divider && item.itemType !== ContextualMenuItemType.Header) {\n                    var itemCount = item.customOnRenderListLength ? item.customOnRenderListLength : 1;\n                    totalItemCount_1 += itemCount;\n                }\n            }\n            var calloutStyles_1 = this._classNames.subComponentStyles\n                ? this._classNames.subComponentStyles.callout\n                : undefined;\n            return (React.createElement(MenuContext.Consumer, null, function (menuContext) { return (React.createElement(Callout, __assign({ styles: calloutStyles_1, onRestoreFocus: _this._tryFocusPreviousActiveElement }, calloutProps, { target: target || menuContext.target, isBeakVisible: isBeakVisible, beakWidth: beakWidth, directionalHint: directionalHint, directionalHintForRTL: directionalHintForRTL, gapSpace: gapSpace, coverTarget: coverTarget, doNotLayer: doNotLayer, className: css('ms-ContextualMenu-Callout', calloutProps && calloutProps.className), setInitialFocus: shouldFocusOnMount, onDismiss: _this.props.onDismiss || menuContext.onDismiss, onScroll: _this._onScroll, bounds: bounds, directionalHintFixed: directionalHintFixed, alignTargetEdge: alignTargetEdge, hidden: _this.props.hidden || menuContext.hidden, ref: forwardedRef }),\n                React.createElement(\"div\", { style: contextMenuStyle, ref: hostElement, id: id, className: _this._classNames.container, tabIndex: shouldFocusOnContainer ? 0 : -1, onKeyDown: _this._onMenuKeyDown, onKeyUp: _this._onKeyUp, onFocusCapture: onMenuFocusCapture, \"aria-label\": ariaLabel, \"aria-labelledby\": labelElementId, role: 'menu' },\n                    title && React.createElement(\"div\", { className: _this._classNames.title },\n                        \" \",\n                        title,\n                        \" \"),\n                    items && items.length\n                        ? _this._renderFocusZone(onRenderMenuList({\n                            ariaLabel: ariaLabel,\n                            items: items,\n                            totalItemCount: totalItemCount_1,\n                            hasCheckmarks: hasCheckmarks,\n                            hasIcons: hasIcons,\n                            defaultMenuItemRenderer: _this._defaultMenuItemRenderer,\n                            labelElementId: labelElementId,\n                        }, _this._onRenderMenuList))\n                        : null,\n                    submenuProps && onRenderSubMenu(submenuProps, _this._onRenderSubMenu)))); }));\n        }\n        else {\n            return null;\n        }\n    };\n    ContextualMenuInternal.prototype._onMenuClosed = function () {\n        var _a, _b;\n        (_a = this._tryFocusPreviousActiveElement) === null || _a === void 0 ? void 0 : _a.call(this, {\n            originalElement: this._previousActiveElement,\n            containsFocus: true,\n            documentContainsFocus: ((_b = getDocument()) === null || _b === void 0 ? void 0 : _b.hasFocus()) || false,\n        });\n    };\n    /**\n     * Return whether the contextual menu is hidden.\n     * Undefined value for hidden is equivalent to hidden being false.\n     * @param props - Props for the component\n     */\n    ContextualMenuInternal.prototype._isHidden = function (props) {\n        return !!props.hidden;\n    };\n    /**\n     * Gets the focusZoneDirection by using the arrowDirection if specified,\n     * the direction specified in the focusZoneProps, or defaults to FocusZoneDirection.vertical\n     */\n    ContextualMenuInternal.prototype._getFocusZoneDirection = function () {\n        var focusZoneProps = this.props.focusZoneProps;\n        return focusZoneProps && focusZoneProps.direction !== undefined\n            ? focusZoneProps.direction\n            : FocusZoneDirection.vertical;\n    };\n    ContextualMenuInternal.prototype._onRenderSubMenu = function (subMenuProps, defaultRender) {\n        throw Error('ContextualMenuBase: onRenderSubMenu callback is null or undefined. ' +\n            'Please ensure to set `onRenderSubMenu` property either manually or with `styled` helper.');\n    };\n    ContextualMenuInternal.prototype._renderFocusZone = function (children) {\n        var _a = this.props.focusZoneAs, ChildrenRenderer = _a === void 0 ? FocusZone : _a;\n        return React.createElement(ChildrenRenderer, __assign({}, this._adjustedFocusZoneProps), children);\n    };\n    ContextualMenuInternal.prototype._renderSectionItem = function (sectionItem, \n    // eslint-disable-next-line deprecation/deprecation\n    menuClassNames, index, hasCheckmarks, hasIcons) {\n        var _this = this;\n        var sectionProps = sectionItem.sectionProps;\n        if (!sectionProps) {\n            return;\n        }\n        var headerItem;\n        var groupProps;\n        if (sectionProps.title) {\n            var headerContextualMenuItem = undefined;\n            var ariaLabellledby = '';\n            if (typeof sectionProps.title === 'string') {\n                // Since title is a user-facing string, it needs to be stripped\n                // of whitespace in order to build a valid element ID\n                var id = this._id + sectionProps.title.replace(/\\s/g, '');\n                headerContextualMenuItem = {\n                    key: \"section-\" + sectionProps.title + \"-title\",\n                    itemType: ContextualMenuItemType.Header,\n                    text: sectionProps.title,\n                    id: id,\n                };\n                ariaLabellledby = id;\n            }\n            else {\n                var id = sectionProps.title.id || this._id + sectionProps.title.key.replace(/\\s/g, '');\n                headerContextualMenuItem = __assign(__assign({}, sectionProps.title), { id: id });\n                ariaLabellledby = id;\n            }\n            if (headerContextualMenuItem) {\n                groupProps = {\n                    role: 'group',\n                    'aria-labelledby': ariaLabellledby,\n                };\n                headerItem = this._renderHeaderMenuItem(headerContextualMenuItem, menuClassNames, index, hasCheckmarks, hasIcons);\n            }\n        }\n        if (sectionProps.items && sectionProps.items.length > 0) {\n            return (React.createElement(\"li\", { role: \"presentation\", key: sectionProps.key || sectionItem.key || \"section-\" + index },\n                React.createElement(\"div\", __assign({}, groupProps),\n                    React.createElement(\"ul\", { className: this._classNames.list, role: \"presentation\" },\n                        sectionProps.topDivider && this._renderSeparator(index, menuClassNames, true, true),\n                        headerItem &&\n                            this._renderListItem(headerItem, sectionItem.key || index, menuClassNames, sectionItem.title),\n                        sectionProps.items.map(function (contextualMenuItem, itemsIndex) {\n                            return _this._renderMenuItem(contextualMenuItem, itemsIndex, itemsIndex, sectionProps.items.length, hasCheckmarks, hasIcons);\n                        }),\n                        sectionProps.bottomDivider && this._renderSeparator(index, menuClassNames, false, true)))));\n        }\n    };\n    ContextualMenuInternal.prototype._renderListItem = function (content, key, classNames, // eslint-disable-line deprecation/deprecation\n    title) {\n        return (React.createElement(\"li\", { role: \"presentation\", title: title, key: key, className: classNames.item }, content));\n    };\n    ContextualMenuInternal.prototype._renderSeparator = function (index, classNames, // eslint-disable-line deprecation/deprecation\n    top, fromSection) {\n        if (fromSection || index > 0) {\n            return (React.createElement(\"li\", { role: \"separator\", key: 'separator-' + index + (top === undefined ? '' : top ? '-top' : '-bottom'), className: classNames.divider, \"aria-hidden\": \"true\" }));\n        }\n        return null;\n    };\n    ContextualMenuInternal.prototype._renderNormalItem = function (item, classNames, // eslint-disable-line deprecation/deprecation\n    index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons) {\n        if (item.onRender) {\n            return item.onRender(__assign({ 'aria-posinset': focusableElementIndex + 1, 'aria-setsize': totalItemCount }, item), this.dismiss);\n        }\n        if (item.href) {\n            return this._renderAnchorMenuItem(item, classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\n        }\n        if (item.split && hasSubmenu(item)) {\n            return this._renderSplitButton(item, classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\n        }\n        return this._renderButtonItem(item, classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\n    };\n    ContextualMenuInternal.prototype._renderHeaderMenuItem = function (item, \n    // eslint-disable-next-line deprecation/deprecation\n    classNames, index, hasCheckmarks, hasIcons) {\n        var _a = this.props.contextualMenuItemAs, ChildrenRenderer = _a === void 0 ? ContextualMenuItem : _a;\n        var itemProps = item.itemProps, id = item.id;\n        var divHtmlProperties = itemProps && getNativeProps(itemProps, divProperties);\n        return (\n        // eslint-disable-next-line deprecation/deprecation\n        React.createElement(\"div\", __assign({ id: id, className: this._classNames.header }, divHtmlProperties, { style: item.style }),\n            React.createElement(ChildrenRenderer, __assign({ item: item, classNames: classNames, index: index, onCheckmarkClick: hasCheckmarks ? this._onItemClick : undefined, hasIcons: hasIcons }, itemProps))));\n    };\n    ContextualMenuInternal.prototype._renderAnchorMenuItem = function (item, \n    // eslint-disable-next-line deprecation/deprecation\n    classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons) {\n        var _a = this.props, contextualMenuItemAs = _a.contextualMenuItemAs, _b = _a.hoisted, expandedMenuItemKey = _b.expandedMenuItemKey, openSubMenu = _b.openSubMenu;\n        return (React.createElement(ContextualMenuAnchor, { item: item, classNames: classNames, index: index, focusableElementIndex: focusableElementIndex, totalItemCount: totalItemCount, hasCheckmarks: hasCheckmarks, hasIcons: hasIcons, contextualMenuItemAs: contextualMenuItemAs, onItemMouseEnter: this._onItemMouseEnterBase, onItemMouseLeave: this._onMouseItemLeave, onItemMouseMove: this._onItemMouseMoveBase, onItemMouseDown: this._onItemMouseDown, executeItemClick: this._executeItemClick, onItemClick: this._onAnchorClick, onItemKeyDown: this._onItemKeyDown, expandedMenuItemKey: expandedMenuItemKey, openSubMenu: openSubMenu, dismissSubMenu: this._onSubMenuDismiss, dismissMenu: this.dismiss }));\n    };\n    ContextualMenuInternal.prototype._renderButtonItem = function (item, \n    // eslint-disable-next-line deprecation/deprecation\n    classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons) {\n        var _a = this.props, contextualMenuItemAs = _a.contextualMenuItemAs, _b = _a.hoisted, expandedMenuItemKey = _b.expandedMenuItemKey, openSubMenu = _b.openSubMenu;\n        return (React.createElement(ContextualMenuButton, { item: item, classNames: classNames, index: index, focusableElementIndex: focusableElementIndex, totalItemCount: totalItemCount, hasCheckmarks: hasCheckmarks, hasIcons: hasIcons, contextualMenuItemAs: contextualMenuItemAs, onItemMouseEnter: this._onItemMouseEnterBase, onItemMouseLeave: this._onMouseItemLeave, onItemMouseMove: this._onItemMouseMoveBase, onItemMouseDown: this._onItemMouseDown, executeItemClick: this._executeItemClick, onItemClick: this._onItemClick, onItemClickBase: this._onItemClickBase, onItemKeyDown: this._onItemKeyDown, expandedMenuItemKey: expandedMenuItemKey, openSubMenu: openSubMenu, dismissSubMenu: this._onSubMenuDismiss, dismissMenu: this.dismiss }));\n    };\n    ContextualMenuInternal.prototype._renderSplitButton = function (item, \n    // eslint-disable-next-line deprecation/deprecation\n    classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons) {\n        var _a = this.props, contextualMenuItemAs = _a.contextualMenuItemAs, _b = _a.hoisted, expandedMenuItemKey = _b.expandedMenuItemKey, openSubMenu = _b.openSubMenu;\n        return (React.createElement(ContextualMenuSplitButton, { item: item, classNames: classNames, index: index, focusableElementIndex: focusableElementIndex, totalItemCount: totalItemCount, hasCheckmarks: hasCheckmarks, hasIcons: hasIcons, contextualMenuItemAs: contextualMenuItemAs, onItemMouseEnter: this._onItemMouseEnterBase, onItemMouseLeave: this._onMouseItemLeave, onItemMouseMove: this._onItemMouseMoveBase, onItemMouseDown: this._onItemMouseDown, executeItemClick: this._executeItemClick, onItemClick: this._onItemClick, onItemClickBase: this._onItemClickBase, onItemKeyDown: this._onItemKeyDown, openSubMenu: openSubMenu, dismissSubMenu: this._onSubMenuDismiss, dismissMenu: this.dismiss, expandedMenuItemKey: expandedMenuItemKey, onTap: this._onPointerAndTouchEvent }));\n    };\n    /**\n     * Returns true if the key for the event is alt (Mac option) or meta (Mac command).\n     */\n    ContextualMenuInternal.prototype._isAltOrMeta = function (ev) {\n        // eslint-disable-next-line deprecation/deprecation\n        return ev.which === KeyCodes.alt || ev.key === 'Meta';\n    };\n    ContextualMenuInternal.prototype._shouldIgnoreMouseEvent = function () {\n        return !this._isScrollIdle || !this.props.hoisted.gotMouseMove.current;\n    };\n    /**\n     * Handles updating focus when mouseEnter or mouseMove fire.\n     * As part of updating focus, This function will also update\n     * the expand/collapse state accordingly.\n     */\n    ContextualMenuInternal.prototype._updateFocusOnMouseEvent = function (item, ev, target) {\n        var _this = this;\n        var targetElement = target ? target : ev.currentTarget;\n        var _a = this.props, _b = _a.subMenuHoverDelay, timeoutDuration = _b === void 0 ? NavigationIdleDelay : _b, _c = _a.hoisted, expandedMenuItemKey = _c.expandedMenuItemKey, openSubMenu = _c.openSubMenu;\n        if (item.key === expandedMenuItemKey) {\n            return;\n        }\n        if (this._enterTimerId !== undefined) {\n            this._async.clearTimeout(this._enterTimerId);\n            this._enterTimerId = undefined;\n        }\n        // If the menu is not expanded we can update focus without any delay\n        if (expandedMenuItemKey === undefined) {\n            targetElement.focus();\n        }\n        // Delay updating expanding/dismissing the submenu\n        // and only set focus if we have not already done so\n        if (hasSubmenu(item)) {\n            ev.stopPropagation();\n            this._enterTimerId = this._async.setTimeout(function () {\n                targetElement.focus();\n                openSubMenu(item, targetElement, true);\n                _this._enterTimerId = undefined;\n            }, timeoutDuration);\n        }\n        else {\n            this._enterTimerId = this._async.setTimeout(function () {\n                _this._onSubMenuDismiss(ev);\n                targetElement.focus();\n                _this._enterTimerId = undefined;\n            }, timeoutDuration);\n        }\n    };\n    ContextualMenuInternal.prototype._getSubmenuProps = function () {\n        var _a = this.props.hoisted, submenuTarget = _a.submenuTarget, expandedMenuItemKey = _a.expandedMenuItemKey, expandedByMouseClick = _a.expandedByMouseClick;\n        var item = this._findItemByKey(expandedMenuItemKey);\n        var submenuProps = null;\n        if (item) {\n            submenuProps = {\n                items: getSubmenuItems(item),\n                target: submenuTarget,\n                onDismiss: this._onSubMenuDismiss,\n                isSubMenu: true,\n                id: this.state.subMenuId,\n                shouldFocusOnMount: true,\n                shouldFocusOnContainer: expandedByMouseClick,\n                directionalHint: getRTL(this.props.theme) ? DirectionalHint.leftTopEdge : DirectionalHint.rightTopEdge,\n                className: this.props.className,\n                gapSpace: 0,\n                isBeakVisible: false,\n            };\n            if (item.subMenuProps) {\n                assign(submenuProps, item.subMenuProps);\n            }\n        }\n        return submenuProps;\n    };\n    ContextualMenuInternal.prototype._findItemByKey = function (key) {\n        var items = this.props.items;\n        return this._findItemByKeyFromItems(key, items);\n    };\n    /**\n     * Returns the item that matches a given key if any.\n     * @param key - The key of the item to match\n     * @param items - The items to look for the key\n     */\n    ContextualMenuInternal.prototype._findItemByKeyFromItems = function (key, items) {\n        for (var _i = 0, items_2 = items; _i < items_2.length; _i++) {\n            var item = items_2[_i];\n            if (item.itemType === ContextualMenuItemType.Section && item.sectionProps) {\n                var match = this._findItemByKeyFromItems(key, item.sectionProps.items);\n                if (match) {\n                    return match;\n                }\n            }\n            else if (item.key && item.key === key) {\n                return item;\n            }\n        }\n    };\n    return ContextualMenuInternal;\n}(React.Component));\n//# sourceMappingURL=ContextualMenu.base.js.map","import { getGlobalClassNames, FontWeights } from '../../Styling';\nimport { CONTEXTUAL_MENU_ITEM_HEIGHT } from './ContextualMenu.cnstyles';\nvar GlobalClassNames = {\n    root: 'ms-ContextualMenu',\n    container: 'ms-ContextualMenu-container',\n    list: 'ms-ContextualMenu-list',\n    header: 'ms-ContextualMenu-header',\n    title: 'ms-ContextualMenu-title',\n    isopen: 'is-open',\n};\nexport var getStyles = function (props) {\n    var className = props.className, theme = props.theme;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    var fonts = theme.fonts, semanticColors = theme.semanticColors, effects = theme.effects;\n    return {\n        root: [\n            theme.fonts.medium,\n            classNames.root,\n            classNames.isopen,\n            {\n                backgroundColor: semanticColors.menuBackground,\n                minWidth: '180px',\n            },\n            className,\n        ],\n        container: [\n            classNames.container,\n            {\n                selectors: {\n                    ':focus': { outline: 0 },\n                },\n            },\n        ],\n        list: [\n            classNames.list,\n            classNames.isopen,\n            {\n                listStyleType: 'none',\n                margin: '0',\n                padding: '0',\n            },\n        ],\n        header: [\n            classNames.header,\n            fonts.small,\n            {\n                fontWeight: FontWeights.semibold,\n                color: semanticColors.menuHeader,\n                background: 'none',\n                backgroundColor: 'transparent',\n                border: 'none',\n                height: CONTEXTUAL_MENU_ITEM_HEIGHT,\n                lineHeight: CONTEXTUAL_MENU_ITEM_HEIGHT,\n                cursor: 'default',\n                padding: '0px 6px',\n                userSelect: 'none',\n                textAlign: 'left',\n            },\n        ],\n        title: [\n            classNames.title,\n            {\n                fontSize: fonts.mediumPlus.fontSize,\n                paddingRight: '14px',\n                paddingLeft: '14px',\n                paddingBottom: '5px',\n                paddingTop: '5px',\n                backgroundColor: semanticColors.menuItemBackgroundPressed,\n            },\n        ],\n        subComponentStyles: {\n            callout: {\n                root: {\n                    boxShadow: effects.elevation8,\n                },\n            },\n            menuItem: {},\n        },\n    };\n};\n//# sourceMappingURL=ContextualMenu.styles.js.map","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { ContextualMenuBase } from './ContextualMenu.base';\nimport { getStyles } from './ContextualMenu.styles';\nfunction onRenderSubMenu(subMenuProps) {\n    return React.createElement(LocalContextualMenu, __assign({}, subMenuProps));\n}\n// This is to prevent cyclic import with ContextualMenu.base.tsx.\nvar LocalContextualMenu = styled(ContextualMenuBase, getStyles, function () { return ({ onRenderSubMenu: onRenderSubMenu }); }, { scope: 'ContextualMenu' });\n/**\n * ContextualMenu description\n */\nexport var ContextualMenu = LocalContextualMenu;\nContextualMenu.displayName = 'ContextualMenu';\n//# sourceMappingURL=ContextualMenu.js.map"],"names":["useTarget","target","hostElement","previousTargetProp","targetRef","targetWindow","current","currentElement","currentDoc","querySelector","RectangleEdge","Position","_a","Rectangle","left","right","top","bottom","this","Object","defineProperty","prototype","get","enumerable","configurable","equals","rect","parseFloat","toFixed","_createPositionData","targetEdge","alignmentEdge","isAuto","DirectionalDictionary","DirectionalHint","undefined","_isRectangleWithinBounds","boundingRect","_getOutOfBoundsEdges","outOfBounds","push","_getEdgeValue","edge","_setEdgeValue","value","_getCenterValue","edges","_getFlankingEdges","positiveEdge","negativeEdge","_getRelativeEdgeValue","_getRelativeRectEdgeValue","_getRelativeEdgeDifference","hostRect","_moveEdge","newValue","difference","_alignEdges","gap","_isEdgeInBounds","bounds","_adjustFitWithinBounds","element","bounding","positionData","directionalHintFixed","coverTarget","alignTargetEdge","elementEstimate","elementRectangle","directions","currentEstimate","currentEdge","currentAlignment","i","splice","indexOf","length","slice","_estimatePosition","_flipToFit","flippedElementEstimate","oppositeEdge","_flipAlignmentEdge","_alignOutOfBoundsEdges","outOfBoundsEdges","_i","outOfBoundsEdges_1","direction","_centerEdgeToPoint","point","elementToPosition","estimatedElementPosition","elementEdge","adjustedGap","_alignOppositeEdges","_finalizeReturnEdge","returnEdge","Math","abs","_calculateActualBeakWidthInPixels","beakWidth","sqrt","_getPositionData","directionalHint","directionalHintForRTL","previousPositions","positionInformation","getClosestEdge","targetCenter","boundingCenter","_positionElementWithinBounds","_finalizeBeakPosition","elementPosition","positionedBeak","actualElement","width","height","returnValue","closestEdge","_positionBeak","targetRectangle","beakTargetPoint","elementBounds","beakPosition","_getRectangleFromElement","clientRect","getBoundingClientRect","_getRectangleFromIRect","_getMaxHeightFromTargetRectangle","gapSpace","maxHeight","_positionElementRelative","props","targetRect","preventDefault","ev","clientX","clientY","rectOrPoint","x","top_1","y","outOfBounds_1","_getTargetRect","_getAlignmentData","positionedElement","_finalizePositionData","doNotFinalizeReturnEdge","elementEdgeString","_finalizeElementPosition","_positionCallout","callout","isBeakVisible","positionProps","window","innerWidth","innerHeight","finalizedBeakPosition","positionCard","_positionCard","ANIMATIONS","BEAK_ORIGIN_POSITION","OFF_SCREEN_STYLE","opacity","filter","pointerEvents","ARIA_ROLE_ATTRIBUTES","DEFAULT_PROPS","preventDismissOnLostFocus","preventDismissOnScroll","preventDismissOnResize","minPagePadding","getClassNames","classNamesFunction","disableCaching","useMaxHeight","getBounds","hidden","_b","setMaxHeight","async","useAsync","currentTarget","totalGap_1","requestAnimationFrame","mouseTarget","elementTarget","rectOrPointTarget","boundingRectangle","stopPropagation","getMaxHeight","usePositions","calloutElement","positions","setPositions","positionAttempts","finalHeight","onPositioned","timerId_1","prevElementPositions","newElementPosition","expectsTarget","currentProps","newPositions","positionCallout","comparePositions","cancelAnimationFrame","CalloutContentBase","propsWithoutDefaults","forwardedRef","getPropsWithDefaults","styles","style","ariaLabel","ariaDescribedBy","ariaLabelledBy","className","children","calloutWidth","calloutMaxWidth","calloutMinWidth","doNotLayer","hideOverflow","backgroundColor","calloutMaxHeight","onScroll","shouldRestoreFocus","onLayerMounted","rootRef","useMergedRefs","_c","cachedBounds","currentBounds","segments","getWindowSegments","segments_1","segment","_getBoundsFromTargetWindow","getBoundsFromTargetWindow","useBounds","heightOffset","setHeightOffset","setHeightOffsetTimer","setHeightOffsetEveryFrame","calloutMainElem","lastChild","scrollDiff","scrollHeight","offsetHeight","currentHeightOffset","useHeightOffset","_d","onDismiss","dismissOnTargetClick","shouldDismissOnWindowFocus","preventDismissOnEvent","isMouseDownOnPopup","mouseDownHandlers","useConst","positionsExists","dismissOnScroll","dismissOnClickOrScroll","dismissOnResize","dismissOnLostFocus","isEventTargetOutsideCallout","elementContains","dismissOnTargetWindowBlur","document","hasFocus","relatedTarget","disposablesPromise","Promise","resolve","setTimeout","disposables_1","on","documentElement","forEach","dispose","then","useDismissHandlers","mouseDownOnPopup","mouseUpOnPopup","setInitialFocus","hasPositions","timerId_2","useAutoFocus","contentMaxHeight","overflowYHidden","beakVisible","classNames","theme","overflowStyle","overflowY","visibilityStyle","visibility","ref","container","css","root","tabIndex","beak","getBeakPosition","beakCurtain","Popup","calloutMain","onMouseDown","onMouseUp","onRestoreFocus","previousProps","nextProps","shouldUpdateWhenHidden","beakPositionStyle","newElementPositions","key","hasOwnProperty","oldPositionEdge","newPositionEdge","getBeakStyle","displayName","GlobalClassNames","CalloutContent","styled","semanticColors","effects","position","fonts","medium","zIndex","boxSizing","borderRadius","roundedCorner2","boxShadow","elevation16","selectors","borderWidth","borderStyle","borderColor","maxWidth","minWidth","menuBackground","border","transform","overflowX","scope","Callout","layerProps","rest","content","Layer","ContextualMenuItemType","isMacResult","isMac","reset","win","getWindow","userAgent","navigator","isIOS","test","getIsChecked","item","canCheck","isChecked","checked","hasSubmenu","subMenuProps","items","isItemDisabled","isDisabled","disabled","getMenuItemAriaRole","loader","m","loading","renderItemIcon","hasIcons","iconProps","onRenderIcon","Icon","icon","renderCheckMarkIcon","onCheckmarkClick","isItemChecked","iconName","checkmarkIcon","onClick","e","renderItemName","text","name","label","renderSecondaryText","secondaryText","renderSubMenuIcon","submenuIconProps","subMenuIcon","ContextualMenuItemBase","_super","_this","call","openSubMenu","getSubmenuTarget","submenuTarget","dismissSubMenu","dismissMenu","dismissAll","initializeComponentRef","render","renderContent","onRenderContent","_renderLayout","split","linkContentMenu","linkContent","defaultRenders","getDividerClassNames","memoize","wrapper","display","alignItems","divider","palette","neutralTertiaryAlt","CONTEXTUAL_MENU_ITEM_HEIGHT","MediumScreenSelector","getItemHighContrastStyles","color","getMenuItemStyles","_e","_f","_g","ContextualMenuItemBackgroundHoverColor","menuItemBackgroundHovered","ContextualMenuItemTextHoverColor","menuItemTextHovered","ContextualMenuItemBackgroundSelectedColor","menuItemBackgroundPressed","ContextualMenuItemDividerColor","bodyDivider","menuItemStyles","bodyText","lineHeight","cursor","padding","textAlign","rootDisabled","disabledBodyText","rootHovered","themeDarkAlt","neutralPrimary","rootFocused","white","rootChecked","rootPressed","themeDark","rootExpanded","bodyTextChecked","whiteSpace","anchorLink","textRendering","letterSpacing","wordSpacing","textTransform","textIndent","textShadow","textDecoration","margin","verticalAlign","flexGrow","textOverflow","overflow","neutralSecondary","paddingLeft","minHeight","fontSize","flexShrink","iconColor","menuIcon","iconDisabled","bodySubtext","splitButtonFlexContainer","flexWrap","justifyContent","CONTEXTUAL_SPLIT_MENU_MINWIDTH","getSplitButtonVerticalDividerClassNames","isExpanded","splitMenu","screenReaderText","getItemClassNames","expanded","isAnchorLink","knownIcon","itemClassName","dividerClassName","iconClassName","subMenuClassName","primaryDisabled","background","splitPrimary","flexBasis","splitContainer","getItemStyles","ContextualMenuItem","ContextualMenuItemWrapper","_onItemMouseEnter","onItemMouseEnter","_onItemClick","onItemClickBase","_onItemMouseLeave","onItemMouseLeave","_onItemKeyDown","onItemKeyDown","_onItemMouseMove","onItemMouseMove","_getSubmenuTarget","shouldComponentUpdate","newProps","ContextualMenuAnchor","apply","arguments","_anchor","_getMemoizedMenuButtonKeytipProps","keytipProps","hasMenu","onItemClick","_renderAriaDescription","ariaDescription","id","_ariaDescriptionId","index","focusableElementIndex","totalItemCount","hasCheckmarks","contextualMenuItemAs","ChildrenRenderer","expandedMenuItemKey","anchorRel","rel","toLowerCase","itemHasSubmenu","nativeProps","itemProps","getId","ariaDescribedByIds","additionalItemProperties","KeytipData","keytipAttributes","href","role","onMouseEnter","onMouseLeave","onMouseMove","onKeyDown","componentRef","ContextualMenuButton","_btn","onItemMouseDown","defaultRole","buttonNativeProperties","itemRole","itemButtonProperties","title","VerticalDividerBase","deprecatedGetClassNames","VerticalDivider","Error","names","ContextualMenuSplitButton","which","KeyCodes","_executeItemClick","_splitButton","_onItemMouseEnterPrimary","_onItemMouseEnterIcon","_onItemMouseMovePrimary","_onItemMouseMoveIcon","_onIconItemClick","executeItemClick","_processingTouch","_onTouchStart","_handleTouchAndPointerEvent","_onPointerDown","pointerType","stopImmediatePropagation","_async","Async","_events","EventGroup","componentDidMount","componentWillUnmount","splitButton","bind","onTouchStart","_renderSplitPrimaryButton","_renderSplitDivider","_renderSplitIconButton","data","itemComponentProps","buttonProps","onTap","_lastTouchTimeoutId","clearTimeout","MenuContext","getContextualMenuItemClassNames","shouldFocusOnMount","getSubmenuItems","_getMenuItemStylesFunction","styleProps","ContextualMenuBase","setExpandedMenuItemKey","setSubmenuTarget","expandedByMouseClick","setExpandedByMouseClick","closeSubMenu","openedByMouseClick","submenuItemKey","focus","useSubMenuState","delayUpdateFocusOnHover","shouldUpdateFocusOnMouseEvent","gotMouseMove","onMenuFocusCapture","useShouldUpdateFocusOnMouseMove","responsiveMode","useResponsiveMode","onMenuDismissed","onMenuOpened","previousHidden","usePrevious","onMenuOpenedRef","onMenuClosedRef","propsRef","useVisibility","ContextualMenuInternal","hoisted","_mounted","dismiss","_tryFocusPreviousActiveElement","options","documentContainsFocus","_previousActiveElement","_onRenderMenuList","menuListProps","defaultRender","indexCorrection","_classNames","list","_onKeyDown","onKeyUp","_onKeyUp","map","menuItem","_renderMenuItem","itemType","Divider","Header","indexIncrease","customOnRenderListLength","itemClassNames","renderedItems","subMenuIconClassName","itemStyleProps","subComponentStyles","_renderSeparator","headerItem","_renderHeaderMenuItem","_renderListItem","Section","_renderSectionItem","_renderNormalItem","_defaultMenuItemRenderer","_lastKeyDownWasAltOrMeta","_isAltOrMeta","dismissAllMenus","_keyHandler","_shouldHandleKeyDown","_shouldCloseSubMenu","altKey","metaKey","_shouldHandleKeyUp","keyPressIsAltOrMetaAlone","shouldHandleKey","handled","submenuCloseKey","isSubMenu","_adjustedFocusZoneProps","checkForNoWrap","_onMenuKeyDown","hasModifier","isUp","isDown","elementToFocus","firstChild","_onScroll","_isScrollIdle","_scrollIdleTimeoutId","_onItemMouseEnterBase","_shouldIgnoreMouseEvent","_updateFocusOnMouseEvent","_onItemMouseMoveBase","targetElement","_enterTimerId","activeElement","_onMouseItemLeave","setActive","_onItemMouseDown","_onItemClickBase","_cancelSubMenuTimer","nativeEvent","detail","_onAnchorClick","defaultPrevented","openKey","_onSubMenuDismiss","_onPointerAndTouchEvent","warnDeprecations","getMenuClassNames","state","contextualMenuItems","subMenuId","_id","newState","getSnapshotBeforeUpdate","prevProps","_isHidden","_onMenuClosed","labelElementId","useTargetWidth","useTargetAsMinWidth","shouldFocusOnContainer","calloutProps","onRenderSubMenu","_onRenderSubMenu","onRenderMenuList","focusZoneProps","itemsHaveIcons","contextualMenuItems_1","sectionProps","isCircularNavigation","handleTabKey","_getFocusZoneDirection","contextMenuStyle","some","submenuItem","canAnyMenuItemsCheck","submenuProps","_getSubmenuProps","targetAsHtmlElement","offsetWidth","targetWidth","totalItemCount_1","items_1","itemCount","calloutStyles_1","Consumer","menuContext","onFocusCapture","_renderFocusZone","defaultMenuItemRenderer","originalElement","containsFocus","getDocument","focusZoneAs","FocusZone","sectionItem","menuClassNames","groupProps","headerContextualMenuItem","ariaLabellledby","replace","topDivider","contextualMenuItem","itemsIndex","bottomDivider","fromSection","onRender","_renderAnchorMenuItem","_renderSplitButton","_renderButtonItem","divHtmlProperties","header","subMenuHoverDelay","timeoutDuration","_findItemByKey","_findItemByKeyFromItems","items_2","match","isopen","LocalContextualMenu","outline","listStyleType","small","fontWeight","menuHeader","userSelect","mediumPlus","paddingRight","paddingBottom","paddingTop","elevation8","ContextualMenu"],"sourceRoot":""}